!function e(t,i,n){function a(s,r){if(!i[s]){if(!t[s]){var c="function"==typeof require&&require;if(!r&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=i[s]={exports:{}};t[s][0].call(p.exports,function(e){var i=t[s][1][e];return a(i||e)},p,p.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,t,i){"use strict";window.wpmdb=window.wpmdb||{},wpmdb.common={hooks:[],call_stack:[],non_fatal_errors:"",migration_error:!1},wpmdb.functions={},wpmdb.functions.wpmdb_toggle_migration_action_text=function(){jQuery(".action-text").hide(),jQuery(".action-text."+jQuery("input[name=action]:checked").val()).show()},wpmdb.functions.wpmdb_migration_type=function(){var e=jQuery("input[name=action]:checked");return 0===e.length?"":e.val()},wpmdb.functions.wpmdb_call_next_hook=function(){wpmdb.common.call_stack.length||(wpmdb.common.call_stack=wpmdb.common.hooks);var e=wpmdb.common.call_stack[0];wpmdb.common.call_stack.shift(),e.call(this)},wpmdb.functions.wpmdb_add_commas=function(e){for(var t=(e+="").split("."),i=t[0],n=1<t.length?"."+t[1]:"",a=/(\d+)(\d{3})/;a.test(i);)i=i.replace(a,"$1,$2");return i+n},wpmdb.functions.wpmdb_parse_json=function(e){var t={};try{t=jQuery.parseJSON(e)}catch(e){return!1}return t},wpmdb.functions.wpmdbGetAjaxErrors=function(e,t,i,n){var a=!1,o="";if(!1===wpmdb.functions.wpmdb_parse_json(i)){a=!0,e=wpmdb_strings.ajax_json_message,t="(#144)";var s=i;i=wpmdb_strings.ajax_json_errors+" "+t,i+='<br><a class="show-errors-toggle" href="#">'+wpmdb_strings.view_error_messages+"</a> ",i+='<div class="migration-php-errors">'+s+"</div>"}return(a||"undefined"!==n)&&(o+="<strong>"+e+"</strong> &mdash; "),a||"undefined"===n||(o+=wpmdb_strings.status+": "+n.status+" "+n.statusText,o+="<br /><br />"+wpmdb_strings.response+":<br />"),a||(i+=" "+t),o+=i},wpmdb.preg_quote=function(e,t){return String(e).replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(t||"")+"-]","g"),"\\$&")},wpmdb.table_is=function(e,t,i){if((e+t).toLowerCase()===i.toLowerCase())return!0;var n=wpmdb.preg_quote(i);return null!=new RegExp(e+"([0-9]+)_"+t,"i").exec(n)},wpmdb.subsite_for_table=function(e,t){var i=wpmdb.preg_quote(t),n=new RegExp(e+"([0-9]+)_","i").exec(i);return null===n?1:n[1]},wpmdb.functions.convertKBSizeToHR=function(e,t,i,n){var a,o;if(i=i||1e3,t=t||2,e=parseInt(e),i>Math.abs(e))a=[e.toFixed(0),"KB"];else{o=["MB","GB","TB","PB","EB","ZB","YB"];var s=-1;do{e/=i,++s}while(Math.abs(e)>=i&&s<o.length-1);a=[Math.round(e*Math.pow(10,t))/Math.pow(10,t),o[s]]}return n||(a=a[0]+" "+a[1]),a},wpmdb.functions.convertKBSizeToHRFixed=function(e,t,i){t=t||2;var n=wpmdb.functions.convertKBSizeToHR(e,t,i,!0);return"KB"!==n[1]?n[0].toFixed(2)+" "+n[1]:n[0]+" "+n[1]},wpmdb.functions.ajax_handle_dismissible_notice=function(e,t,i){jQuery.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_process_notice_link",nonce:e,notice:jQuery(i).data("notice"),type:jQuery(i).data("type"),reminder:jQuery(i).data("reminder")},beforeSend:t(i)})},wpmdb.functions.get_spinner_url=function(){var e=ajaxurl.replace("/admin-ajax.php","")+"/images/spinner";return 2<window.devicePixelRatio&&(e+="-2x"),e+=".gif"}},{}],2:[function(e,t,i){"use strict";var n;0<(n=jQuery)(".wpmdb-compat-plugin-row-error").length&&n('[data-slug="wp-migrate-db-pro"]').addClass("wpmdbpro-has-message"),n(".wpmdbpro-custom").prev().addClass("update"),n(".notice-link-plugins-page").click(function(e){e.preventDefault();var t=jQuery(this);wpmdb.functions.ajax_handle_dismissible_notice(wpmdb_nonces.process_notice_link,function(e){n(e).closest(".wpmdbpro-custom").hide(),n(e).closest("tr").siblings("tr.wpmdbpro-has-message").removeClass("wpmdbpro-has-message")},t),n(".wpmdbpro-custom").prev().removeClass("update")})},{}],3:[function(e,t,i){"use strict";jQuery.wpmdb={hooks:{action:{},filter:{}},add_action:function(e,t,i){jQuery.wpmdb.add_hook("action",e,t,i)},add_filter:function(e,t,i){jQuery.wpmdb.add_hook("filter",e,t,i)},do_action:function(e,t){jQuery.wpmdb.do_hook("action",e,null,t)},apply_filters:function(e,t,i){return jQuery.wpmdb.do_hook("filter",e,t,i)},remove_action:function(e,t){jQuery.wpmdb.remove_hook("action",e,t)},remove_filter:function(e,t){jQuery.wpmdb.remove_hook("filter",e,t)},add_hook:function(e,t,i,n){void 0===jQuery.wpmdb.hooks[e][t]&&(jQuery.wpmdb.hooks[e][t]=[]);var a=jQuery.wpmdb.hooks[e][t];void 0===n&&(n=t+"_"+a.length),jQuery.wpmdb.hooks[e][t].push({tag:n,callable:i})},do_hook:function(e,t,i,n){if(void 0!==jQuery.wpmdb.hooks[e][t])for(var a=jQuery.wpmdb.hooks[e][t],o=0;o<a.length;o++)"action"===e?a[o].callable(n):i=a[o].callable(i,n);if("filter"===e)return i},remove_hook:function(e,t,i){if(void 0!==jQuery.wpmdb.hooks[e][t])for(var n=jQuery.wpmdb.hooks[e][t],a=n.length-1;0<a;a--)void 0!==i&&i!==n[a].tag||n.splice(a,1)}}},{}],4:[function(e,t,i){"use strict";window.wpmdb=window.wpmdb||{},function(e,t){var i=!1,n=e("#select-tables").clone(),a=[],o=[],s=!1,r="",c={},l='<img src="'+t.functions.get_spinner_url()+'" alt="" class="ajax-spinner general-spinner" />';function p(){var t=e(".find-replace-rows");return e("#import-find-replace").is(":checked")?t.show():t.hide()}e.wpmdb.add_filter("wpmdb_get_migration_status_label",function(e,t){return"import"===t.intent&&(e="completed"===t.stage?wpmdb_strings.import_label_completed:wpmdb_strings.import_label_migrating),e}),e.wpmdb.add_action("move_connection_info_box",function(t){var n=e(".import-file-status");"import"===t.migration_type?(i?s&&e(".unrecognized-import-file-notice").show():(e(".step-two").hide(),n.hasClass("profile-loaded")?(n.attr("class","import-file-status profile-loaded notification-message success-notice"),n.html(wpmdb_strings.import_profile_loaded)):n.html(wpmdb_strings.please_select_sql_file),n.show()),p(),e(".mst-options").hide(),e(".import-find-replace-option, .import-active-plugin-option").show()):(e('.find-replace-rows, .table-options, .advanced-options, .exclude-post-types-options, label[for="backup-selected"]').show(),e(".import-find-replace-option, .find-replace-options, .import-file-status, .import-active-plugin-option, .unrecognized-import-file-notice").hide(),"search_all_imported"===e("input[name=table_migrate_option]:checked").val()&&e("input[name=table_migrate_option][value=migrate_only_with_prefix]").prop("checked",!0))}),e.wpmdb.add_action("wpmdb_migration_initiated",function(e){"import"===t.functions.wpmdb_migration_type()&&("backup"===e&&t.common.hooks.push(t.functions.migrate_table_recursive),t.common.hooks.push(t.functions.upload_file_recursive),t.common.next_step_in_migration={fn:t.functions.wpmdb_call_next_hook},t.functions.execute_next_step())}),e.wpmdb.add_action("wpmdb_update_import_table_select",function(){e("#select-tables").remove(),e(".select-tables-wrap").prepend(n),e("#select-tables").change()}),e.wpmdb.add_filter("wpmdb_backup_selected_tables",function(e){return"import"===t.functions.wpmdb_migration_type()&&(e=o),e}),e.wpmdb.add_action("wpmdb_add_migration_stages",function(i){"import"===t.functions.wpmdb_migration_type()&&(t.current_migration.model.addStage("upload",[],"local",{strings:{stage_title:wpmdb_strings.upload}}),t.current_migration.model.addStage("import",[],"local",{strings:{stage_title:wpmdb_strings.migrate_button_import}}),e("#import-find-replace").is(":checked")&&(a=i.tables_to_migrate,t.current_migration.model.addStage("find_replace",[],"local",{strings:{migrated:wpmdb_strings.searched,stage_title:wpmdb_strings.migrate_button_find_replace}})))}),e.wpmdb.add_filter("wpmdb_initiate_migration_request_data",function(e){return"import"===t.functions.wpmdb_migration_type()&&(e.import_info=c),e}),e("#import-file").on("change",function(a){var d=a.target.files,m=d[0],u=new FileReader,_=e(".import-file-status"),g=e('label[for="backup-selected"]'),f=e(".prefix-notice"),b=e(".unrecognized-import-file-notice"),h=e(".step-two"),w=e("#old-url"),v=e("#old-path"),y=e("#new-url"),x=e("#new-path");if(_.hide().attr("class","import-file-status"),f.hide(),b.hide(),h.hide(),e(".mst-required ").hide(),d.length){if(".sql"!==m.name.slice(-4)&&".sql.gz"!==m.name.slice(-7))return _.addClass("notification-message error-notice migration-error").text(wpmdb_strings.invalid_sql_file).show(),void h.hide();i=!0,r="",_.text(wpmdb_strings.parsing_sql_file).append(l).show(),u.onloadend=function(i){i.target.readyState===FileReader.DONE&&e.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"wpmdb_get_import_info",file_data:i.target.result,nonce:wpmdb_data.nonces.import_file},error:function(e,t,i){console.log(e,t,i)},success:function(i){if(e(".ajax-spinner").remove(),_.hide(),!0!==t.functions.maybe_show_mst_warning(i))if(h.show(),void 0!==i.wpmdb_error&&1===i.wpmdb_error)_.text(i.body).addClass("notification-message error-notice migration-error").show(),h.hide();else{var a=t.functions.get_localStorage_form_data();if(c=i,void 0!==i.prefix&&(r=i.prefix,e(".table-prefix").text(i.prefix),t.functions.maybe_show_prefix_notice(i.prefix)),void 0!==i.tables){o=i.tables,g.show(),a||(w.val(t.functions.remove_protocol(i.URL)),v.val(i.path),y.val(t.functions.remove_protocol(wpmdb_data.this_url)),x.val(wpmdb_data.this_path));var l=[],d=[];if(a?(l=a.select_tables,d=a.select_post_types,t.functions.remove_localStorage_form_data()):"migrate_only_with_prefix"!==e("input[name=table_migrate_option]:checked").val()||_.hasClass("profile-loaded")||e("input[name=table_migrate_option][value=search_all_imported]").prop("checked",!0),!1===wpmdb_default_profile&&"undefined"!=typeof wpmdb_loaded_tables&&(l=wpmdb_loaded_tables,d=wpmdb_loaded_post_types),n=t.functions.create_table_select(i.tables,[],l),e.wpmdb.do_action("wpmdb_update_import_table_select"),void 0!==i.post_types){var m=document.createElement("select");e(m).attr({multiple:"multiple",name:"select_post_types[]",id:"select-post-types",class:"multiselect"}),e.each(i.post_types,function(t,i){var n=e.inArray(i,d);n=-1!==n||!0===wpmdb_convert_exclude_revisions&&"revision"!==i;var a=document.createElement("option");a.value=i,a.text=i,a.selected=n,m.add(a,null)}),e("#select-post-types").remove(),e(".exclude-post-types-warning").after(m)}s&&(s=!1,p())}else b.show(),g.hide(),e(".table-options").hide(),s=!0,y.val(w.val()),x.val(v.val()),w.val(""),v.val("")}}})};var k=m.slice(0,1024e3);u.readAsDataURL(k)}else i&&(h.hide(),_.text(wpmdb_strings.please_select_sql_file).show(),i=!1)}),e("#import-find-replace").on("click",p),e(".find-replace-options-toggle").on("click",function(){s&&setTimeout(function(){e(".find-replace-options-toggle .expand-collapse-arrow").hasClass("collapsed")||e(".table-options").hide()},1)}),e("input[name=keep_active_plugins]").on("click",function(){e("input[name=keep_active_plugins]").prop("checked",e(this).is(":checked"))}),t.functions.upload_file_recursive=function(i){i=void 0===i?0:i;var n=document.getElementById("import-file").files[0],a=1024e3,o=i+a+1,s=new FileReader;0===i&&t.current_migration.model.addStageItem("upload",n.name,n.size/1e3,Math.ceil(n.size/a)),s.onloadend=function(s){s.target.readyState===FileReader.DONE&&e.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"wpmdb_upload_file",file_data:s.target.result,file:n.name,file_type:n.type,migration_state_id:t.migration_state_id,stage:"import",import_info:c,nonce:wpmdb_data.nonces.import_file},error:function(e,i,n){console.log(e,i,n),t.common.migration_error=!0,t.functions.migration_complete_events()},success:function(e){if(t.current_migration.setText(),void 0!==e.wpmdb_error&&1===e.wpmdb_error)return t.common.migration_error=!0,t.functions.migration_complete_events(),void t.current_migration.setState(wpmdb_strings.migration_failed,e.body,"error");var s=i+a;t.current_migration.setText(wpmdb_strings.uploading_file_to_server),t.current_migration.model.getStageModel("upload").setItemRowsTransferred(n.name,Math.ceil(s/a)),o<n.size?t.common.next_step_in_migration={fn:t.functions.upload_file_recursive,args:[o]}:t.common.next_step_in_migration={fn:t.functions.upload_import_successful,args:[n]},t.functions.execute_next_step()}})};var r=n.slice(i,o);s.readAsDataURL(r)},t.functions.upload_import_successful=function(i){e.ajax({type:"POST",url:ajaxurl,data:{action:"wpmdb_prepare_import_file",migration_state_id:t.migration_state_id,nonce:wpmdb_data.nonces.import_file},dataType:"json",error:function(e,i,n){console.log(e,i,n),t.common.migration_error=!0,t.functions.migration_complete_events()},success:function(e){var n=i.name,a=wpmdb_strings.importing_file_to_db;".gz"===n.slice(-3)&&(n=i.name.slice(0,-3)),a=a.replace(/\%s\s?/,n),t.current_migration.setText(a),t.current_migration.model.addStageItem("import",n,e.import_size/1e3,e.num_chunks),t.current_migration.model.setActiveStage("import"),t.common.next_step_in_migration={fn:t.functions.import_file_recursive,args:[{import_filename:e.import_file,item_name:n,chunk:0,current_query:""}]},t.functions.execute_next_step()}})},t.functions.import_file_recursive=function(i){e.ajax({type:"POST",url:ajaxurl,data:{action:"wpmdb_import_file",migration_state_id:t.migration_state_id,chunk:i.chunk,current_query:i.current_query,import_file:i.import_filename,nonce:wpmdb_data.nonces.import_file},dataType:"json",error:function(e,i,n){console.log(e,i,n),t.common.migration_error=!0,t.functions.migration_complete_events()},success:function(n){if(void 0!==n.wpmdb_error&&1===n.wpmdb_error)return t.common.migration_error=!0,t.functions.migration_complete_events(),void t.current_migration.setState(wpmdb_strings.migration_failed,n.body,"error");if(t.current_migration.model.getStageModel("import").setItemRowsTransferred(i.item_name,n.chunk),n.chunk>=n.num_chunks){if(t.current_migration.model.getStageModel("import").setItemRowsTransferred(i.item_name,++n.chunk),e("#import-find-replace").is(":checked")){if(s)e.each(n.table_sizes,function(e,i){if(e.startsWith(wpmdb_data.this_temp_prefix)&&wpmdb_data.alter_table_name!==e){var a=e.replace(wpmdb_data.this_temp_prefix,"");t.current_migration.model.addStageItem("find_replace",a,n.table_sizes[e],n.table_rows[e])}});else{var c=e("input[name=table_migrate_option]:checked").val();"migrate_only_with_prefix"===c?a=o.filter(function(e){return r===e.substring(0,r.length)}):"search_all_imported"===c&&(a=o),e.each(a,function(e,i){var a=wpmdb_data.this_temp_prefix+i;n.table_sizes.hasOwnProperty(a)&&t.current_migration.model.addStageItem("find_replace",i,n.table_sizes[a],n.table_rows[a])})}a=[],t.current_migration.model.setActiveStage("find_replace");var l=t.functions.get_tables_to_migrate();return t.common.next_step_in_migration={fn:t.functions.migrate_table_recursive,args:["-1","",l.length]},void t.functions.execute_next_step()}e(".progress-label").removeClass("label-visible"),t.common.hooks=e.wpmdb.apply_filters("wpmdb_before_migration_complete_hooks",t.common.hooks),t.common.hooks.push(t.functions.migration_complete),t.common.hooks.push(t.functions.wpmdb_flush),t.common.hooks=e.wpmdb.apply_filters("wpmdb_after_migration_complete_hooks",t.common.hooks),t.common.hooks.push(t.functions.migration_complete_events),t.common.next_step_in_migration={fn:t.functions.wpmdb_call_next_hook}}else t.common.next_step_in_migration={fn:t.functions.import_file_recursive,args:[{import_filename:i.import_filename,item_name:i.item_name,chunk:n.chunk,current_query:n.current_query}]};t.functions.execute_next_step()}})},t.functions.get_tables_to_import=function(){return o}}(jQuery,wpmdb)},{}],5:[function(e,t,i){"use strict";var n,a;window.wpmdb=window.wpmdb||{},n=jQuery,a=wpmdb,n(document).ready(function(){a.functions.localStorage_available=function(){try{return localStorage.setItem("wpmdb_test","wpmdb_test"),localStorage.removeItem("wpmdb_test","wpmdb_test"),!0}catch(e){return!1}},a.functions.maybe_reload_page=function(){var e=a.functions.wpmdb_migration_type();if(a.functions.localStorage_available()&&"cancelled"!==a.current_migration.status&&!0!==a.common.migration_error&&-1!==n.inArray(e,["pull","import","find_replace"])&&("true"!==wpmdb_data.is_multisite||!n("#mst-select-subsite").is(":checked")||wpmdb_data.this_domain===n("#mst-selected-subsite option:selected").text())){var t=a.functions.get_tables_to_migrate();"import"===e&&(t=a.functions.get_tables_to_import()),-1===n.inArray(wpmdb_data.this_prefix+"options",t)&&-1===n.inArray(wpmdb_data.this_prefix+"usermeta",t)||(a.functions.set_localStorage_form_data(),location.reload())}},a.functions.set_localStorage_form_data=function(){var e={};n.each(n("#migrate-form").serializeArray(),function(t,i){if("[]"===i.name.substr(-2)){var n=i.name.slice(0,-2);void 0===e[n]&&(e[n]=[]),e[n].push(i.value)}else e[i.name]=i.value}),localStorage.setItem("wpmdb_migrate_form",JSON.stringify(e))},a.functions.get_localStorage_form_data=function(){var e=localStorage.getItem("wpmdb_migrate_form");if(null===e)return!1;try{e=JSON.parse(e)}catch(e){return!1}return e},a.functions.remove_localStorage_form_data=function(){localStorage.removeItem("wpmdb_migrate_form")},a.functions.load_data_from_localStorage=function(){var e=a.functions.get_localStorage_form_data();e&&(n.each(e,function(e,t){var i=n('[name="'+e+'"]'),o=i.attr("type");"action"===e?(a.migration_selection=t,n("#"+t).prop("checked",!0)):"radio"===o?n('[name="'+e+'"][value="'+t+'"]').prop("checked",!0):"checkbox"===o?(i.prop("checked",!0),i.parent().hasClass("checkbox-label")&&i.parent().next().show()):i.val(t)}),n(".option-group input[type=radio]").change(),n("."+a.migration_selection+"-list ul").show(),n.when(a.functions.connection_box_changed()).done(function(){if("migrate_select"===n("input[name=table_migrate_option]:checked").val()?(void 0!==e.select_tables&&n("#select-tables").val(e.select_tables),n(".table-options .expandable-content, .select-tables-wrap").show(),n(".table-options .expand-collapse-arrow").removeClass("collapsed")):n(".select-tables-wrap").hide(),"backup_manual_select"===n("input[name=backup_option]:checked").val()&&(void 0!==e.select_backup&&n("#select-backup").val(e.select_backup),n(".backup-tables-wrap").show()),void 0!==e.select_post_types&&(n("#select-post-types").val(e.select_post_types),a.functions.exclude_post_types_warning()),void 0!==e.replace_old){n(".replace-row").not(".original-repeatable-field").remove();var t=1;n.each(e.replace_old,function(i,a){n(".replace-row:nth-child("+t+")").length||n(".replace-row").last().after(n(".original-repeatable-field").clone().removeClass("original-repeatable-field")),n(".replace-row:nth-child("+t+') [name="replace_old[]"]').val(a),n(".replace-row:nth-child("+t+') [name="replace_new[]"]').val(e.replace_new[i]),t++})}}),a.functions.update_migrate_button_text(),"import"!==a.functions.wpmdb_migration_type()&&a.functions.remove_localStorage_form_data())},a.functions.load_data_from_localStorage()})},{}],6:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=jQuery,o=e("MigrationProgress-model"),s=e("MigrationProgress-view"),r=a('<div id="overlay" class="hide"></div>'),c=a(".progress-content").clone().addClass("hide"),l=a(".pro-version").addClass("hide");r.append(l);var p={migration:{model:{},view:{},$progress:{},$wrapper:{},$overlay:{},status:"active",title:"",text:"",timerCount:0,elapsedInterval:0,currentStageNum:0,counterDisplay:!1,originalTitle:document.title,setTitle:function(e){this.$progress.find(".progress-title").html(e),this.title=e},setStatus:function(e){this.$progress.removeClass(this.status).addClass("error"===e?"wpmdb-error":e),"error"===e&&this.$progress.find(".progress-text").addClass("migration-error"),this.status=e,this.updateTitleElem()},setText:function(e){"string"!=typeof e&&(e=""),0>=e.indexOf("wpmdb_error")&&(e=this.decodeErrorObject(e)),this.$progress.find(".progress-text").html(e),this.text=e},setState:function(e,t,i){null!==e&&this.setTitle(e),null!==t&&this.setText(t),null!==i&&this.setStatus(i)},startTimer:function(){this.timerCount=0,this.counterDisplay=a(".timer"),this.elapsedInterval=setInterval(this.incrementTimer,1e3)},pauseTimer:function(){clearInterval(this.elapsedInterval)},resumeTimer:function(){this.elapsedInterval=setInterval(this.incrementTimer,1e3)},incrementTimer:function(){wpmdb.current_migration.timerCount=wpmdb.current_migration.timerCount+1,wpmdb.current_migration.displayCount()},displayCount:function(){var e=Math.floor(this.timerCount/3600)%24,t=Math.floor(this.timerCount/60)%60,i=this.timerCount%60,n=this.pad(e,2,0)+":"+this.pad(t,2,0)+":"+this.pad(i,2,0);this.counterDisplay.html(n)},updateTitleElem:function(){var e=this.model.get("activeStageName"),t=this.model.getStageModel(e),i=Math.max(0,t.getTotalProgressPercent()),n=this.model.get("stages").length,a=this.currentStageNum,o=this.status,s=wpmdb_strings.title_progress;"complete"===t.get("status")&&0===t.get("totalSize")&&(i=100),s=(s=(s=s.replace("%1$s",i+"%")).replace("%2$s",a)).replace("%3$s",n),1===n&&(s=i+"%"),wpmdb_strings["title_"+o]&&(s=wpmdb_strings["title_"+o]),s=s+" - "+this.originalTitle,document.title=s},restoreTitleElem:function(){document.title=this.originalTitle},pad:function(e,t,i){return i=i||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(i)+e},decodeErrorObject:function(e){var t=e.replace(/\{&quot;/g,"{#q!#").replace(/\&quot;}/g,"#q!#}").replace(/,&quot;/g,",#q!#").replace(/&quot;:/g,"#q!#:").replace(/:&quot;/g,":#q!#").replace(/&quot;/g,'\\"').replace(/#q!#/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<");try{t=JSON.parse(t)}catch(t){return e}return"object"===(void 0===t?"undefined":n(t))&&void 0!==t.body?t:e},fixProgressStageWidthForScrollBar:function(){var e=Math.abs(this.$wrapper[0].offsetWidth-this.$wrapper[0].clientWidth),t=this.$wrapper.find(".active .progress-items"),i=parseInt(t.css("padding-left"),10),n=parseInt(t.css("padding-right"),10);(0!==e||0===e&&n!==i)&&t.css("padding-right",i-e+"px")}},newMigration:function(e){a("#overlay").remove(),a(".progress-content").remove(),this.migration.$overlay=r.clone(),a("#wpwrap").append(this.migration.$overlay),this.migration.model=new o(e),this.migration.view=new s({model:this.migration.model}),this.migration.$progress=c.clone(),this.migration.$wrapper=this.migration.view.$el,this.migration.$progress.find(".migration-progress-stages").replaceWith(this.migration.$wrapper),this.migration.$proVersion=this.migration.$overlay.find(".pro-version");var t=this.migration.$proVersion.find("iframe").remove().clone();this.migration.$overlay.prepend(this.migration.$progress);var i=this;return setTimeout(function(){i.migration.$overlay.add(i.migration.$progress).add(i.migration.$proVersion).removeClass("hide").addClass("show"),i.migration.$proVersion.length&&setTimeout(function(){i.migration.$proVersion.find(".iframe").append(t)},500)},0),this.migration.currentStageNum=0,this.migration.$proVersion.on("click",".close-pro-version",function(){i.migration.$proVersion.find("iframe").remove(),i.migration.$proVersion.addClass("hide remove"),setTimeout(function(){i.migration.$proVersion.remove()},500)}),this.migration.model.on("migrationComplete",function(){i.utils.updateProgTableVisibilitySetting(),i.utils.updatePauseBeforeFinalizeSetting(),i.migration.pauseTimer()}),a(window).on("resize",_.debounce(this.migration.fixProgressStageWidthForScrollBar.bind(this.migration),100)),this.migration.model.on("change:activeStage",this.migration.fixProgressStageWidthForScrollBar.bind(this.migration)),this.migration},utils:e("MigrationProgress-utils")};t.exports=p},{"MigrationProgress-model":7,"MigrationProgress-utils":8,"MigrationProgress-view":9}],7:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=e("MigrationProgressStage-model"),o=jQuery,s=Backbone.Model.extend({defaults:{_initialStages:null,stages:null,activeStageName:null,stageModels:null,localTableRows:null,localTableSizes:null,remoteTableRows:null,remoteTableSizes:null,migrationStatus:"active",migrationIntent:"savefile"},initialize:function(){this.set("stageModels",{}),this.set("_initialStages",this.get("stages")),this.set("stages",[]),_.each(this.get("_initialStages"),function(e,t,i){this.addStage(e.name,t,i)},this)},addStage:function(e,t,i,a){var s,r=[];return _.each(t,function(e){var t,n;"remote"===i?(t=this.get("remoteTableSizes")[e],n=this.get("remoteTableRows")[e]):(t=this.get("localTableSizes")[e],n=this.get("localTableRows")[e]),r.push({name:e,size:t,rows:n})},this),s={name:e,items:r,dataType:i},"object"===(void 0===a?"undefined":n(a))&&(s=o.extend(s,a)),this.addStageModel(s),this.trigger("stage:added",this.get("stageModels")[e]),this.get("stageModels")[e].on("change",function(){this.trigger("change")},this),this.getStageModel(s.name)},addStageItem:function(e,t,i,n){this.getStageModel(e).addItem(t,i,n)},addStageModel:function(e){var t=this.get("stages"),i=this.get("stageModels"),n=new a(e);t.push(e),i[e.name]=n,this.set("stages",t),this.set("stageModels",i)},getStageModel:function(e){return this.get("stageModels")[e]},getStageItems:function(e,t){var i=this.getStageModel(e).get("items");return void 0===t?i:i.map(function(e){return e[t]})},setActiveStage:function(e){this.setStageComplete(),this.set("activeStageName",e),this.getStageModel(e).set("status","active"),this.trigger("change:activeStage")},setStageComplete:function(e){e||(e=this.get("activeStageName")),null!==e&&this.getStageModel(e).set("status","complete"),wpmdb.current_migration.currentStageNum=wpmdb.current_migration.currentStageNum+1},setMigrationComplete:function(){var e=this.getStageModel(this.get("activeStageName"));this.setStageComplete(),this.trigger("migrationComplete"),this.set("migrationStatus","complete"),e.activateTab()}});t.exports=s},{"MigrationProgressStage-model":10}],8:[function(e,t,i){"use strict";var n=jQuery;t.exports={updateProgTableVisibilitySetting:function(){wpmdb_data.prog_tables_visibility_changed&&(wpmdb_data.prog_tables_visibility_changed=!1,n.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_save_setting",nonce:wpmdb_data.nonces.save_setting,setting:"prog_tables_hidden",checked:Boolean(wpmdb_data.prog_tables_hidden)},error:function(e,t,i){console.log("Could not save progress item visibility setting",i)}}))},updatePauseBeforeFinalizeSetting:function(){wpmdb_data.pause_before_finalize_changed&&(wpmdb_data.pause_before_finalize_changed=!1,n.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_save_setting",nonce:wpmdb_data.nonces.save_setting,setting:"pause_before_finalize",checked:Boolean(wpmdb_data.pause_before_finalize)},error:function(e,t,i){console.log("Could not save pause before finalize setting",i)}}))}}},{}],9:[function(e,t,i){"use strict";var n=e("./MigrationProgressStage-view.js"),a=(jQuery,Backbone.View.extend({tagName:"div",className:"migration-progress-stages",id:"migration-progress-stages",self:void 0,initialize:function(){this.$el.empty(),this.model.on("stage:added",function(e){this.addStageView(e)},this),_.each(this.model.get("stageModels"),this.addStageView,this)},addStageView:function(e){var t=new n({model:e});e.trigger("view:initialized",t),this.$el.append(t.$el),this.$el.parent().find(".stage-tabs").append(t.$tabElem)}}));t.exports=a},{"./MigrationProgressStage-view.js":11}],10:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=jQuery,o=Backbone.Model.extend({defaults:{status:"queued",_initialItems:null,items:null,lookupItems:null,totalSize:0,totalTransferred:0,dataType:"local",name:"",itemsComplete:0,itemsCompleteArr:[],strings:null},initialize:function(){this.initStrings(),this.set("_initialItems",this.get("items").slice()),this.set("items",[]),this.set("lookupItems",{}),this.set("itemsCompleteArr",[]),_.each(this.get("_initialItems"),function(e){this.addItem(e.name,e.size,e.rows)},this),this.on("view:initialized",this.triggerItemViewInit),this.on("change",function(){wpmdb.current_migration.updateTitleElem()})},initStrings:function(){var e={stage_title:this.get("name"),migrated:wpmdb_strings.migrated,queued:wpmdb_strings.queued,active:wpmdb_strings.running,complete:wpmdb_strings.complete,hide:wpmdb_strings.hide,show:wpmdb_strings.show,itemsName:wpmdb_strings.tables},t=this.get("strings");t="object"===(void 0===t?"undefined":n(t))?t:{},(t=a.extend(e,t)).items_migrated=t.itemsName+" "+t.migrated,t.hide_items=t.hide+" "+t.itemsName,t.show_items=t.show+" "+t.itemsName,this.set("strings",t)},addItem:function(e,t,i){var n=this.get("items"),a={name:e,size:t,rows:i||t,stageName:this.get("name"),$el:null,transferred:0,rowsTransferred:0,complete:!1};n.push(a),this.get("lookupItems")[e]=n.length-1,this.set("totalSize",parseInt(this.get("totalSize"))+parseInt(t)),this.trigger("item:added",a)},triggerItemViewInit:function(){var e=this.get("items"),t=this;_.each(e,function(e){t.trigger("item:added",e)})},getTotalSizeTransferred:function(){return this.get("totalTransferred")},countItemsComplete:function(){return this.get("itemsComplete")},getTotalProgressPercent:function(){var e=this.getTotalSizeTransferred(),t=this.get("totalSize");return 0>=e||0>=t?0:Math.min(100,Math.floor(e/t*100))},activateTab:function(){this.trigger("activateTab"),wpmdb.current_migration.model.trigger("change:activeStage")},setItemComplete:function(e){var t=this.get("itemsCompleteArr");if(!~t.indexOf(e)){t.push(e);var i=this.getItemByName(e),n=this.get("totalTransferred"),a=this.get("itemsComplete");this.set("itemsComplete",++a),n+=i.size-i.transferred,this.set("totalTransferred",n),i.transferred=i.size,i.complete=!0,i.rowsTransferred=i.rows,this.trigger("change change:items",i)}},setItemRowsTransferred:function(e,t){var i,n,a=this.getItemByName(e),o=this.get("totalTransferred");1!==(i=-1===parseInt(t)?1:Math.min(1,t/a.rows))?(o+=(n=a.size*i)-a.transferred,this.set("totalTransferred",o),a.transferred=n,a.rowsTransferred=t,this.trigger("change change:items",a)):this.setItemComplete(e)},getItemByName:function(e){var t=this.get("items")[this.get("lookupItems")[e]]||{};return e===t.name?t:this.determineItemByName(e)},determineItemByName:function(e){for(var t=this.get("items"),i=0;i<t.length;i++){var n=t[i];if(e===n.name)return this.get("lookupItems").itemName=i,n}}});t.exports=o},{}],11:[function(e,t,i){"use strict";var n=jQuery,a=Backbone.View.extend({tagName:"div",className:"migration-progress-stage-container hide-tables",$totalProgressElem:null,$tabElem:null,$showHideTablesElem:null,$pauseBeforeFinalizeElem:null,$pauseBeforeFinalizeCheckbox:null,$itemsContainer:null,itemViews:null,maxDomNodes:100,visibleDomNodes:0,queuedElements:null,$truncationNotice:null,$truncationNoticeHiddenItems:null,initialize:function(){this.$el.empty(),this.$el.attr("data-stage",this.model.get("name")).addClass("queued "+this.model.get("name")),this.queuedElements=[],this.initTotalProgressElem(),wpmdb.current_migration.view.$el.parent().find(".stage-tabs").after(this.$totalProgressElem),this.$itemsContainer=n("<div class=progress-items />"),this.$el.append(this.$itemsContainer),this.initTabElem(),this.model.on("item:added",this.maybeAddElementToView,this),_.each(this.model.get("itemModels"),this.maybeAddElementToView,this),this.model.on("change",function(){this.updateProgressElem(),this.updateStageTotals()},this),this.model.on("change:status",function(e){this.$el.removeClass("queued active").addClass(this.model.get("status")),this.$totalProgressElem.removeClass("queued active").addClass(this.model.get("status")),this.$tabElem.removeClass("queued active").addClass(this.model.get("status")).find(".stage-status").text(this.model.get("strings")[this.model.get("status")])},this),this.model.on("change:items",function(e){e.name&&this.setItemProgress(e)},this),this.model.on("activateTab",function(){"complete"===wpmdb.current_migration.model.get("migrationStatus")&&(this.$totalProgressElem.addClass("active").siblings().removeClass("active"),this.$tabElem.addClass("active").siblings().removeClass("active"),this.$el.addClass("active").siblings().removeClass("active"))},this)},initTotalProgressElem:function(){this.initShowHideTablesElem(),this.initPauseBeforeFinalizeElem(),this.$totalProgressElem=n('<div class="stage-progress '+this.model.get("name")+'" />').append("<span class=percent-complete>0</span>% "+this.model.get("strings").complete+" ").append('<span class="size-complete-wrap">(<span class=size-complete>0 MB</span> / <span class=size-total>0 MB</span>) </span>').append('<span class="items-complete-wrap"><span class=items-complete>0</span> <span class=lowercase >of</span> <span class=items-total>0</span> '+this.model.get("strings").items_migrated+"</span>").append(this.$showHideTablesElem).append("<div class=progress-bar-wrapper><div class=progress-bar /></div>"),this.updateStageTotals()},initShowHideTablesElem:function(){this.$showHideTablesElem=n("<a class=show-hide-tables/>").text(this.model.get("strings").show_items);var e=this;this.$showHideTablesElem.on("click show-hide-progress-tables",function(){var t;e.$el.hasClass("hide-tables")?(t=!1,e.$el.add(e.$el.siblings()).removeClass("hide-tables"),e.$showHideTablesElem.text(e.model.get("strings").hide_items)):(t=!0,e.$el.add(e.$el.siblings()).addClass("hide-tables"),e.$showHideTablesElem.text(e.model.get("strings").show_items)),Boolean(t)!==Boolean(wpmdb_data.prog_tables_hidden)&&(wpmdb_data.prog_tables_visibility_changed=!0,wpmdb_data.prog_tables_hidden=t)}),wpmdb_data.prog_tables_hidden||this.$showHideTablesElem.triggerHandler("show-hide-progress-tables"),this.model.on("change:status activateTab",function(){wpmdb_data.prog_tables_hidden?e.$showHideTablesElem.text(e.model.get("strings").show_items):e.$showHideTablesElem.text(e.model.get("strings").hide_items)})},initPauseBeforeFinalizeElem:function(){this.$pauseBeforeFinalizeElem=n(".pause-before-finalize"),this.$pauseBeforeFinalizeCheckbox=this.$pauseBeforeFinalizeElem.find("input[type=checkbox]");var e=this,t=!1,i=wpmdb.current_migration.model.get("migrationIntent");wpmdb_data.pause_before_finalize&&(t=!0),this.$pauseBeforeFinalizeCheckbox.prop("checked",t),-1!==n.inArray(i,["push","pull","find_replace","import"])?("find_replace"===i&&n("#pause-before-finalize-label").text(wpmdb_strings.pause_before_finalize_find_replace),this.$pauseBeforeFinalizeElem.show()):this.$pauseBeforeFinalizeElem.hide(),wpmdb.current_migration.model.on("change:activeStage",function(){"media"===wpmdb.current_migration.model.get("activeStageName")&&e.$pauseBeforeFinalizeElem.hide()}),this.$pauseBeforeFinalizeElem.on("click",function(){var t=Boolean(e.$pauseBeforeFinalizeCheckbox.is(":checked"));t!==Boolean(wpmdb_data.pause_before_finalize)&&(wpmdb_data.pause_before_finalize_changed=!0,wpmdb_data.pause_before_finalize=t)})},initTabElem:function(){var e=this;this.$tabElem=n("<a class=stage-tab>").append("<span class=stage-title>"+this.model.get("strings").stage_title+"</span> ").append("<span class=stage-status>"+this.model.get("strings").queued+"</span> ").on("click",function(){e.model.activateTab()})},updateProgressElem:function(){var e=Math.max(0,this.model.getTotalProgressPercent()),t=wpmdb.functions.convertKBSizeToHRFixed(Math.min(this.model.getTotalSizeTransferred(),this.model.get("totalSize"))),i=Math.min(this.model.countItemsComplete(),this.model.get("items").length);"complete"===this.model.get("status")&&0===this.model.get("totalSize")&&(e=100,this.$showHideTablesElem.fadeOut()),this.$totalProgressElem.find(".percent-complete").text(e),this.$totalProgressElem.find(".size-complete").text(t),this.$totalProgressElem.find(".items-complete").text(wpmdb.functions.wpmdb_add_commas(i)),this.$totalProgressElem.find(".progress-bar-wrapper .progress-bar").css({width:e+"%"})},updateStageTotals:function(){var e=this.model.get("items").length;this.$totalProgressElem.find(".items-total").text(wpmdb.functions.wpmdb_add_commas(e)),this.$totalProgressElem.find(".size-total").text(wpmdb.functions.convertKBSizeToHRFixed(this.model.get("totalSize")))},initializeItemElement:function(e){var t=n('<div class="item-progress" />'),i=n('<div class="progress-bar"/>').css("width","0%"),a=n("<p>").addClass("item-info").append(n('<span class="name" />').text(e.name)).append(" ").append(n('<span class="size" />').text("("+wpmdb.functions.convertKBSizeToHRFixed(e.size)+")"));return t.append(a),t.append(i),t.append('<span class="dashicons dashicons-yes"/>'),t.attr("id","item-"+e.name),t.attr("data-stage",this.model.get("name")),e.$el=t,e.$progress=i,e.$title=a,e},maybeAddElementToView:function(e){this.visibleDomNodes<this.maxDomNodes?(++this.visibleDomNodes,this.$itemsContainer.append(this.initializeItemElement(e).$el)):(this.queuedElements.push(e),this.$truncationNotice?this.updateTruncationNotice():this.showTruncationNotice())},showTruncationNotice:function(){this.$truncationNotice||(this.$truncationNotice=n('<div class="truncation-notice" >'+wpmdb_strings.progress_items_truncated_msg.replace("%1$s",'<span class="hidden-items">'+wpmdb.functions.wpmdb_add_commas(this.queuedElements.length)+"</span>")+"</div>"),this.$truncationNoticeHiddenItems=this.$truncationNotice.find(".hidden-items"),this.$itemsContainer.after(this.$truncationNotice))},updateTruncationNotice:function(){this.$truncationNoticeHiddenItems.text(wpmdb.functions.wpmdb_add_commas(this.queuedElements.length))},getNextElementForView:function(e){var t;return this.queuedElements.length&&(e&&this.queuedElements.push(e),e=(t=this.queuedElements.shift())instanceof n?t:this.initializeItemElement(t).$el),e},setItemProgress:function(e){var t=Math.min(100,Math.ceil(e.transferred/e.size*100));e.$progress.css("width",t+"%"),100<=t&&this.elemComplete(e)},elemComplete:function(e){var t=e.$el.addClass("complete");if(1!==this.model.get("items").length){var i=this.getNextElementForView(t),n=t.height(),a=t.css("margin-bottom"),o=i.clone().css({height:0,marginBottom:0}).addClass("clone");o.appendTo(this.$itemsContainer),t.css({height:n,marginBottom:a}),setTimeout(function(){t.css({height:0,marginBottom:0}),o.css({height:n,marginBottom:a}),setTimeout(function(){t.css({height:"auto",marginBottom:a}).remove(),o.remove(),this.$itemsContainer.find(".item-progress:not(.clone)").last().after(i.css({height:"auto",marginBottom:a}))}.bind(this),250)}.bind(this),1e3)}}});t.exports=a},{}],12:[function(e,t,i){"use strict";var n,a;window.wpmdb=window.wpmdb||{},n=jQuery,(a=wpmdb).functions.update_multiselect=function(e,t,i){if(n(e).empty(),0<Object.keys(t).length){var o=n.wpmdb.apply_filters("wpmdb_get_table_prefix",null,null),s=!1;n.each(t,function(t,a){if(!n.wpmdb.apply_filters("wpmdb_exclude_subsite",!1,t)){var r=" ";(void 0===i||null===i||0===i.length||void 0!==i&&null!==i&&0<i.length&&-1!==n.inArray(t,i))&&(r=' selected="selected" ',s=!0),a+=" ("+o+("1"!==t?t+"_":"")+")",n(e).append("<option"+r+'value="'+t+'">'+a+"</option>")}}),!1===s&&a.functions.update_multiselect(e,t,[])}}},{}],13:[function(e,t,i){"use strict";var n,a,o,s;n=jQuery,o=!1,s=ajaxurl.replace("/admin-ajax.php","")+"/images/spinner",2<window.devicePixelRatio&&(s+="-2x"),a=n('<img src="'+(s+=".gif")+'" alt="" class="check-licence-spinner" />'),n(document).ready(function(){n("body").on("click",".check-my-licence-again",function(e){if(e.preventDefault(),n(this).blur(),o)return!1;o=!0,n(this).hide(),a.insertAfter(this);var t=' <a class="check-my-licence-again" href="#">'+wpmdb_update_strings.check_license_again+"</a>";n.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"wpmdb_check_licence",nonce:wpmdb_nonces.check_licence,context:"update"},error:function(e,i,a){o=!1,n(".wpmdb-licence-error-notice").fadeOut(650,function(){n(".wpmdb-licence-error-notice").empty().html(wpmdb_update_strings.license_check_problem+t).fadeIn(650)})},success:function(e){if(o=!1,void 0!==e.errors){var t="";for(var i in e.errors)t+=e.errors[i];n(".wpmdb-licence-error-notice").fadeOut(650,function(){n(".check-licence-spinner").remove(),n(".wpmdb-licence-error-notice").empty().html(t).fadeIn(650)})}else n(".wpmdbpro-custom-visible").fadeOut(650,function(){n(".check-licence-spinner").remove(),n(".wpmdbpro-custom-visible").empty().html(n(".wpmdb-original-update-row").html()).fadeIn(650)})}})}),n(".wpmdbpro-custom").prev().addClass("wpmdbpro-has-message")})},{}],14:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.wpmdb=window.wpmdb||{},function(t,i){var a,o,s,r,c,l,p=!1,d="",m=!1,u=!1,_=!1,g=!1,f=!1,b=!1,h=!1,w=!1,v=!1,y=!1,x="",k="",S=[],T=!1,j="",C="",F="",z="",$=!1,E=!1,I=0,P=400,q=!1,O=i.functions.get_spinner_url(),M='<img src="'+O+'" alt="" class="ajax-spinner general-spinner" />';i.migration_progress_controller=e("MigrationProgress-controller"),i.current_migration=null,i.migration_selection=i.functions.wpmdb_migration_type();var A=t("#select-tables").clone(),D=t("#select-tables").clone(),B=t("#select-post-types").clone(),N=t("#select-post-types").clone(),Q=t("#select-backup").clone(),R=t("#select-backup").clone(),V=t(".connection-info-wrapper");function H(e,t){var i,n,a=[],o={},s=t.length;for(i=0;i<s;i++)o[t[i]]=!0;for(s=e.length,i=0;i<s;i++)(n=e[i])in o&&a.push(n);return a}function U(e){!0===e&&1>t(".replace-row.pin").length&&1===t("#old-url").length&&t("#old-url").parents(".replace-row").addClass("pin"),!1===e&&0<t(".replace-row.pin").length&&t(".replace-row.pin").removeClass("pin")}function K(e,t,n){return i.functions.wpmdbGetAjaxErrors(wpmdb_strings.connection_local_server_problem,t,e,n)}function L(){t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_get_log",nonce:wpmdb_data.nonces.get_log},error:function(e,t,i){alert(wpmdb_strings.update_log_problem)},success:function(e){t(".debug-log-textarea").val(e)}})}function W(e,i,n){var a=e.substr(0,e.indexOf(":")),o=t(".ssl-notice");if(w||o.hide(),n!==a&&-1!==e.indexOf("https"))return o.show(),w=!0,e=e.replace("https","http"),void t(".pull-push-connection-info").val(e+"\n"+i);w=!1}function J(){void 0!==wpmdb_data&&void 0!==wpmdb_data.this_tables&&void 0!==wpmdb_data.this_table_sizes_hr&&(A=i.functions.create_table_select(wpmdb_data.this_tables,wpmdb_data.this_table_sizes_hr,t(A).val())),void 0!==i.common.connection_data&&void 0!==i.common.connection_data.tables&&void 0!==i.common.connection_data.table_sizes_hr&&(D=i.functions.create_table_select(i.common.connection_data.tables,i.common.connection_data.table_sizes_hr,t(D).val()))}function G(){var e;if(t(".save-settings-button").blur(),!g&&!0!==i.functions.maybe_show_select_table_notice()){var n=!1;t("#create_new").is(":checked")&&(n=!0);var a=t(".create-new-profile").val();g=!0,e=t(t("#migrate-form")[0].elements).not(".auth-credentials").serialize(),t(".save-settings-button").attr("disabled","disabled").after('<img src="'+O+'" alt="" class="save-profile-ajax-spinner general-spinner" />'),m=!0,t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_save_profile",profile:e,nonce:wpmdb_data.nonces.save_profile},error:function(e,i,n){m=!1,alert(wpmdb_strings.save_profile_problem),t(".save-settings-button").removeAttr("disabled"),t(".save-profile-ajax-spinner").remove(),t(".save-settings-button").after('<span class="ajax-success-msg">'+wpmdb_strings.saved+"</span>"),t(".ajax-success-msg").fadeOut(2e3,function(){t(this).remove()}),g=!1},success:function(e){var i=parseInt(t("#migrate-form input[name=save_migration_profile_option]:checked").val(),10)+1;if(m=!1,t(".save-settings-button").removeAttr("disabled"),t(".save-profile-ajax-spinner").remove(),t(".save-settings-button").after('<span class="ajax-success-msg">'+wpmdb_strings.saved+"</span>"),t(".ajax-success-msg").fadeOut(2e3,function(){t(this).remove()}),g=!1,t(".create-new-profile").val(""),n){var o=parseInt(e,10),s=o+1,r=t('<li><span class="delete-profile" data-profile-id="'+s+'"></span><label for="profile-'+s+'"><input id="profile-'+s+'" value="'+o+'" name="save_migration_profile_option" type="radio"></label></li>');r.find("label").append(document.createTextNode(" "+a)),i=s,t("#create_new").parents("li").before(r),t("#profile-"+s).attr("checked","checked")}var c=window.location.href.replace("#migrate","").replace(/&wpmdb-profile=-?\d+/,"")+"&wpmdb-profile="+i,l=t("#migrate-form input[name=save_migration_profile_option]:checked").parent().text().trim();if("function"==typeof window.history.pushState){if(t("#migrate-form .crumbs").length)t("#migrate-form .crumbs .crumb:last").text(l);else{var p=t('<div class="crumbs" />').append('<a class="crumb" href="'+wpmdb_data.this_plugin_base+'"> Saved Profiles </a>').append('<span class="crumb">'+l+"</span>");t("#migrate-form").prepend(p)}window.history.pushState({updated_profile_id:i},null,c)}}})}}function Y(e){$=!0,F=wpmdb_strings.cancelling_migration,t(".migration-controls").css({visibility:"hidden"}),"find_replace"===a&&(F=wpmdb_strings.cancelling_find_replace),i.current_migration.setState(F,wpmdb_strings.completing_current_request,"cancelling"),!0===T&&(T=!1,i.functions.execute_next_step())}function Z(){var e,n,a,o,s,r,c=t(".connection-status"),l=t(".directory-permission-notice"),m=t(".compatibility-older-mysql"),u=t(".mst-required"),_=t(".keep-active-plugins"),g=t(".step-two"),f=t(".backup-options"),h=i.functions.wpmdb_migration_type();if(c.hide(),l.hide(),g.show(),f.show(),_.show(),m.hide(),u.hide(),i.functions.wpmdb_toggle_migration_action_text(),t(".migrate-tab").attr("class","migrate-tab content-tab").addClass(i.functions.wpmdb_migration_type()),t.wpmdb.do_action("move_connection_info_box",{migration_type:h,last_migration_type:d}),-1!==t.inArray(h,["push","pull"])){var w=t(".pull-push-connection-info"),v=t.trim(w.val()).split("\n"),y=t("."+h+"-list li");if(y.append(V),V.show(function(){var e=t(this).find(".pull-push-connection-info");e.val()||e.focus()}),h!==d&&2===v.length)return i.force_reconnect=!0,y.append(V),w.removeClass("temp-disabled").attr("readonly","readonly"),t(".connect-button").hide(),void i.functions.connection_box_changed();p?(c.hide(),g.show(),i.functions.wpmdb_toggle_migration_action_text(),"pull"===h?(n=i.common.connection_data.prefix,a=wpmdb_data.site_details.prefix,o=wpmdb_data.this_uploads_dir,s=wpmdb_data.this_upload_dir_long,r=wpmdb_data.write_permission):(n=wpmdb_data.this_prefix,a=i.common.connection_data.prefix,o=i.common.connection_data.uploads_dir,s=i.common.connection_data.upload_dir_long,r=i.common.connection_data.write_permissions),t(".table_prefix").html(n),t(".backup-table-prefix").html(a),t(".uploads-dir").html(o),X(s,r),!1===b&&(e=re(i.common.connection_data.url),t(".create-new-profile").val(e))):(c.show(),g.hide())}else if(-1!==t.inArray(h,["find_replace","savefile"]))if(c.hide(),g.show(),t(".table-prefix").html(wpmdb_data.this_prefix),!1===b&&t(".create-new-profile").val(""),_.hide(),"savefile"===h)f.hide(),m.show(),"false"===wpmdb_data.write_permission&&(l.show(),g.hide());else{if("true"===wpmdb_data.is_multisite){var x=t(".old-replace-col").eq(1);x.parent().removeClass("pin").find(".replace-remove-row").show(),x.find("input").removeAttr("readonly")}X(wpmdb_data.this_upload_dir_long,wpmdb_data.write_permission)}oe()}function X(e,i){var n=t("#create-backup"),a=t("#create-backup-label"),o=t(".backup-option-disabled");n.removeAttr("disabled"),a.removeClass("disabled"),o.hide(),"false"===i&&(n.prop("checked",!1),n.attr("disabled","disabled"),a.addClass("disabled"),o.show(),t(".upload-directory-location").html(e))}function ee(){var e=null,a=null;null!==i.common.previous_connection_data&&"object"===n(i.common.previous_connection_data)&&i.common.previous_connection_data.url!==i.common.connection_data.url&&(e=i.functions.remove_protocol(i.common.previous_connection_data.url),a=i.common.previous_connection_data.path),"push"===i.functions.wpmdb_migration_type()||"savefile"===i.functions.wpmdb_migration_type()?("pull"===d?t(".replace-row").each(function(){var e=t(".old-replace-col input",this).val();t(".old-replace-col input",this).val(t(".replace-right-col input",this).val()),t(".replace-right-col input",this).val(e)}):"push"===d&&"push"===i.functions.wpmdb_migration_type()&&null!==e&&null!==a&&t(".replace-row").each(function(){var n=t(".replace-right-col input",this).val();n===a&&t(".replace-right-col input",this).val(i.common.connection_data.path),n===e&&t(".replace-right-col input",this).val(i.functions.remove_protocol(i.common.connection_data.url))}),t.wpmdb.do_action("wpmdb_update_push_table_select"),t("#select-post-types").remove(),t(".exclude-post-types-warning").after(B),i.functions.exclude_post_types_warning(),t("#select-backup").remove(),t(".backup-tables-wrap").prepend(Q)):"pull"===i.functions.wpmdb_migration_type()&&(""===d||"push"===d||"savefile"===d?t(".replace-row").each(function(){var e=t(".old-replace-col input",this).val();t(".old-replace-col input",this).val(t(".replace-right-col input",this).val()),t(".replace-right-col input",this).val(e)}):"pull"===d&&"pull"===i.functions.wpmdb_migration_type()&&null!==e&&null!==a&&t(".replace-row").each(function(){var n=t(".old-replace-col input",this).val();n===a&&t(".old-replace-col input",this).val(i.common.connection_data.path),n===e&&t(".old-replace-col input",this).val(i.functions.remove_protocol(i.common.connection_data.url))}),t.wpmdb.do_action("wpmdb_update_pull_table_select"),t("#select-post-types").remove(),t(".exclude-post-types-warning").after(N),i.functions.exclude_post_types_warning(),t("#select-backup").remove(),t(".backup-tables-wrap").prepend(R)),d=i.functions.wpmdb_migration_type()}function te(e,i){t(".nav-tab").removeClass("nav-tab-active"),t(".nav-tab."+e).addClass("nav-tab-active"),t(".content-tab").hide(),t("."+e+"-tab").show(),"settings"===e&&!0===ae()&&(t("p.licence-status").append("Checking License... ").append(M),ne()),"help"===e&&(L(),!0===ae()&&(t(".support-content p").append(M),ne())),"addons"===e&&!0!==i&&!0===ae()&&(t(".addons-content p").append(M),ne())}function ie(){t("#overlay").removeClass("show").addClass("hide"),t("#overlay > div").removeClass("show").addClass("hide"),i.current_migration.$proVersion.find("iframe").remove(),setTimeout(function(){t("#overlay").remove()},500),v=!1}function ne(e){var i=!u;h=!0,t.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"wpmdb_check_licence",licence:e,context:"all",nonce:wpmdb_data.nonces.check_licence},error:function(e,t,i){alert(wpmdb_strings.license_check_problem)},success:function(e){var n,a,o,s=t(".support-content"),r=t(".addons-content"),c=t(".licence-status:not(.notification-message)");if(void 0!==e.dbrains_api_down)a=e.dbrains_api_down+e.message,o=e.dbrains_api_down;else if(void 0!==e.errors){if(void 0!==e.errors.subscription_expired)n=e.errors.subscription_expired.licence,a=e.errors.subscription_expired.support,o=e.errors.subscription_expired.addons;else{var l="";for(var p in e.errors)l+=e.errors[p];a=l,o=l}void 0!==e.addon_content&&(o+="\n"+e.addon_content)}else a=e.message,o=e.addon_content;i&&c.stop().fadeOut(P,function(){void 0===n&&(t(this).css({visibility:"hidden",display:"block"}).slideUp(),n=""),t(this).empty().html(n).stop().fadeIn(P)}),s.stop().fadeOut(P,function(){t(this).empty().html(a).stop().fadeIn(P)}),r.stop().fadeOut(P,function(){t(this).empty().html(o).stop().fadeIn(P)}),t("#plugin-compatibility").is(":not(:checked)")&&t("#compatibility-header").click()}})}function ae(){return!1===h&&"1"===wpmdb_data.has_licence&&"true"===wpmdb_data.is_pro}function oe(){if(void 0!==i.common.connection_data&&!1!==i.common.connection_data){var e=i.functions.wpmdb_migration_type(),n=i.functions.get_tables_to_migrate(null,null);t(".mixed-case-table-name-notice").hide(),null!==n&&(n=n.join(""))!==n.toLowerCase()&&("1"===i.common.connection_data.lower_case_table_names||"push"!==e&&"savefile"!==e)&&("1"!==wpmdb_data.lower_case_table_names&&"pull"===e||("push"===e||"savefile"===e?t(".mixed-case-table-name-notice.push").show():t(".mixed-case-table-name-notice.pull").show()))}}function se(e,i){t(".licence-input, .register-licence").remove(),t(".licence-not-entered").prepend(e.masked_licence),t(".support-content").empty().html("<p>"+wpmdb_strings.fetching_license+'<img src="'+O+'" alt="" class="ajax-spinner general-spinner" /></p>'),ne(i),t(".migrate-selection label").removeClass("disabled"),t(".migrate-selection input").removeAttr("disabled")}function re(e){return e.replace(/\/\/(.*)@/,"//").replace("http://","").replace("https://","").replace("www.","")}function ce(e,i,n){var a="",o="";switch(i){case"push":a=wpmdb_strings.push_migration_label_migrating,o=wpmdb_strings.push_migration_label_completed;break;case"pull":a=wpmdb_strings.pull_migration_label_migrating,o=wpmdb_strings.pull_migration_label_completed;break;case"find_replace":a=wpmdb_strings.find_replace_label_migrating,o=wpmdb_strings.find_replace_label_completed;break;case"savefile":a=wpmdb_strings.exporting_please_wait,o=wpmdb_strings.exporting_complete}var s,r,c,l=a;return"completed"===n&&(l=o),"push"!==i&&"pull"!==i||(s=l,r=n,c=re(e),l="completed"===r?s.replace(/\%s\s?/,"<span class=domain-label>"+c+"</span>&nbsp;"):s.replace(/\%s(\S*)\s?/,"<span class=domain-label>"+c+"$1</span>&nbsp;")),l=t.wpmdb.apply_filters("wpmdb_get_migration_status_label",l,{intent:i,stage:n})}function le(){t(".option-group").each(function(e){t("input",this).attr("disabled","disabled"),t("label",this).css("cursor","default")})}function pe(){t(".option-group").each(function(e){t("input",this).removeAttr("disabled"),t("label",this).css("cursor","pointer")})}function de(e,n,a,o){var s=n;void 0!==o&&(s=o),t(".slider",e).slider("value",parseInt(n)),t(".amount",e).html(i.functions.wpmdb_add_commas(s)+" "+a)}function me(e){!0===T?(T=!1,m=!0,i.current_migration.setState(j,C,"active"),t(".pause-resume").html(wpmdb_strings.pause),i.current_migration.resumeTimer(),i.functions.execute_next_step()):(T=!0,m=!1,z=wpmdb_strings.migration_paused,j=t(".progress-title").html(),C=t(".progress-text",".progress-wrapper-primary").html(),t(".progress-text",".progress-wrapper-secondary ").html(),"find_replace"===a&&(z=wpmdb_strings.find_replace_paused),i.current_migration.setState(z,wpmdb_strings.completing_current_request,null),t("body").off("click",".pause-resume"),t("body").off("click",".cancel"))}function ue(e,i){return t(".table-select-wrap .table-prefix").text()}function _e(e){!0===e?(t('.replace-row.pin .replace-right-col input[type="text"]').attr("readonly","readonly"),t(".replace-row.pin .arrow-col").addClass("disabled")):(t('.replace-row.pin .replace-right-col input[type="text"]').removeAttr("readonly"),t(".replace-row.pin .arrow-col").removeClass("disabled"))}function ge(e){i.common.previous_connection_data=i.common.connection_data,i.common.connection_data=e,t.wpmdb.do_action("wpmdb_connection_data_updated",e)}function fe(e){var t={unit:"MB"};return t.amount=(e/1024).toFixed(2),t}window.onbeforeunload=function(e){if("import"!==i.functions.wpmdb_migration_type()||t(".step-two").is(":visible")||i.functions.remove_localStorage_form_data(),y)return(e=e||window.event)&&(e.returnValue=wpmdb_strings.sure),wpmdb_strings.sure},t.wpmdb.add_filter("wpmdb_exclude_table",function(e,t){var n=wpmdb_data.this_temp_prefix;return"pull"===i.functions.wpmdb_migration_type()&&void 0!==i.common.connection_data&&void 0!==i.common.connection_data.temp_prefix&&(n=i.common.connection_data.temp_prefix),n===t.substring(0,n.length)||e}),i.functions.exclude_post_types_warning=function(){var e=t("#select-post-types").val(),i="",n=t(".exclude-post-types-warning");e?(i="<code>"+e.join("</code>, <code>")+"</code>",t(".excluded-post-types").html(i),"0"===n.css("opacity")&&n.css({opacity:0}).slideDown(200).animate({opacity:1})):n.css({opacity:0}).slideUp(200).animate({opacity:0})},i.functions.migrate_table_recursive=function(e,n,o){var s=o||0;if(s>=S.length)if("upload"===c&&i.current_migration.model.getStageItems("find_replace").length)c="find_replace",S=(S=i.current_migration.model.getStageItems("find_replace","name")).map(function(e){return"_mig_"+e}),s=0;else{if("backup"!==c)return t(".progress-label").removeClass("label-visible"),i.common.hooks=t.wpmdb.apply_filters("wpmdb_before_migration_complete_hooks",i.common.hooks),i.common.hooks.push(i.functions.migration_complete),i.common.hooks.push(i.functions.wpmdb_flush),i.common.hooks=t.wpmdb.apply_filters("wpmdb_after_migration_complete_hooks",i.common.hooks),i.common.hooks.push(i.functions.migration_complete_events),i.common.next_step_in_migration={fn:i.functions.wpmdb_call_next_hook},void i.functions.execute_next_step();if(c=-1!==t.inArray(a,["push","pull"])?"migrate":"import"===a?"upload":a,i.current_migration.model.setActiveStage(c),"find_replace"!==c&&"migrate"!==c)return void i.functions.wpmdb_call_next_hook();s=0,S=i.functions.get_tables_to_migrate(null,null)}var r=0;s===S.length-1&&(r=1);var l=0;-1!==t.inArray(a,["push","pull"])&&1===parseInt(i.common.connection_data.gzip)&&(l=1);var p={action:"wpmdb_migrate_table",migration_state_id:i.migration_state_id,table:S[s],stage:c,current_row:e,last_table:r,primary_keys:n,gzip:l,nonce:wpmdb_data.nonces.migrate_table};-1!==t.inArray(a,["push","pull"])&&(p.bottleneck=i.common.connection_data.bottleneck,p.prefix=i.common.connection_data.prefix),i.common.connection_data&&i.common.connection_data.path_current_site&&i.common.connection_data.domain&&(p.path_current_site=i.common.connection_data.path_current_site,p.domain_current_site=i.common.connection_data.domain),m=!0,t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,timeout:0,data:p,error:function(e,t,n){var a=wpmdb_strings.table_process_problem+" "+S[s]+"<br /><br />"+wpmdb_strings.status+": "+e.status+" "+e.statusText+"<br /><br />"+wpmdb_strings.response+":<br />"+e.responseText;i.current_migration.setState(wpmdb_strings.migration_failed,a,"error"),m=!1,console.log(e),console.log(t),console.log(n),i.common.migration_error=!0,i.functions.migration_complete_events()},success:function(e){m=!1,e=t.trim(e);var n=i.functions.wpmdb_parse_json(e),o="";if(!1===n||null===n)return o=""===e||null===e?wpmdb_strings.table_process_problem_empty_response+" "+S[s]:K(e,null,null),i.current_migration.setState(wpmdb_strings.migration_failed,o,"error"),i.common.migration_error=!0,void i.functions.migration_complete_events();if(void 0!==n.wpmdb_error&&1===n.wpmdb_error)return i.current_migration.setState(wpmdb_strings.migration_failed,n.body,"error"),i.common.migration_error=!0,void i.functions.migration_complete_events();var l=S[s];"import"===a&&"find_replace"===c&&(l=l.replace(wpmdb_data.this_temp_prefix,"")),i.current_migration.setText(),i.current_migration.model.getStageModel(c).setItemRowsTransferred(l,n.current_row),1===r&&"savefile"===a&&(void 0!==n.dump_filename&&(x=n.dump_filename),void 0!==n.dump_path&&(k=n.dump_path)),-1===parseInt(n.current_row)&&(s++,n.current_row="",n.primary_keys=""),i.common.next_step_in_migration={fn:i.functions.migrate_table_recursive,args:[n.current_row,n.primary_keys,s]},i.functions.execute_next_step()}})},i.functions.migration_complete_events=function(){if(!1===i.common.migration_error)if(""===i.common.non_fatal_errors)if("savefile"!==a&&!0===t("#save_computer").is(":checked")&&i.current_migration.setText(),l+='&nbsp;<div class="dashicons dashicons-yes"></div>',!0===$){var e=wpmdb_strings.migration_cancelled_success;"find_replace"===a&&(e=wpmdb_strings.find_replace_cancelled_success),i.current_migration.setState(l,e,"cancelled")}else i.current_migration.setState(l,"","complete");else i.current_migration.setState(wpmdb_strings.completed_with_some_errors,i.common.non_fatal_errors,"error");t(".migration-controls").addClass("hidden"),i.common.hooks=[],i.common.call_stack=[],i.common.migration_error=!1,y=!1,v=!0,T=!1,$=!1,m=!1,i.common.non_fatal_errors="",S=[],t(".progress-label").remove(),t(".migration-progress-ajax-spinner").remove(),t(".close-progress-content").show(),t("#overlay").css("cursor","pointer"),i.current_migration.model.setMigrationComplete()},i.functions.migration_complete=function(){if(t(".migration-controls").addClass("hidden"),"savefile"===a){y=!1;var e=wpmdb_strings.migration_complete;if(t("#save_computer").is(":checked")){var n=wpmdb_data.this_download_url+encodeURIComponent(x);t("#gzip_file").is(":checked")&&(n+="&gzip=1"),window.location=n}else e=wpmdb_strings.completed_dump_located_at+" "+k;!1===i.common.migration_error&&(i.functions.migration_complete_events(),i.current_migration.setState(l,e,"complete"))}else{i.current_migration.setState(null,wpmdb_strings.finalizing_migration,"finalizing");var o={action:"wpmdb_finalize_migration",migration_state_id:i.migration_state_id,tables:S.join(","),nonce:wpmdb_data.nonces.finalize_migration};-1!==t.inArray(a,["push","pull"])&&(o.prefix=i.common.connection_data.prefix),m=!0,t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:o,error:function(e,t,n){m=!1,i.current_migration.setState(wpmdb_strings.migration_failed,wpmdb_strings.finalize_tables_problem,"error"),alert(e+" : "+t+" : "+n),i.common.migration_error=!0,i.functions.migration_complete_events()},success:function(e){if(m=!1,"1"!==t.trim(e))return i.current_migration.setState(wpmdb_strings.migration_failed,e,"error"),i.common.migration_error=!0,void i.functions.migration_complete_events();i.common.next_step_in_migration={fn:i.functions.wpmdb_call_next_hook},i.functions.execute_next_step()}})}},i.functions.wpmdb_flush=function(){"savefile"!==a&&(i.current_migration.setText(wpmdb_strings.flushing),m=!0,t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_flush",migration_state_id:i.migration_state_id,nonce:wpmdb_data.nonces.flush},error:function(e,t,n){m=!1,i.current_migration.setState(wpmdb_strings.migration_failed,wpmdb_strings.flush_problem,"error"),alert(e+" : "+t+" : "+n),i.common.migration_error=!0,i.functions.migration_complete_events()},success:function(e){if(m=!1,"1"!==t.trim(e))return i.current_migration.setState(wpmdb_strings.migration_failed,e,"error"),i.common.migration_error=!0,void i.functions.migration_complete_events();i.common.next_step_in_migration={fn:i.functions.wpmdb_call_next_hook},i.functions.execute_next_step()}}))},i.functions.execute_next_step=function(){if(0<I&&!1===E)setTimeout(function(){E=!0,i.functions.execute_next_step()},I);else if(E=!1,!0===T){t(".migration-progress-ajax-spinner").hide(),i.current_migration.pauseTimer();var e="";!0===q?(e=wpmdb_strings.paused_before_finalize,q=!1,"find_replace"===i.functions.wpmdb_migration_type()&&(e=wpmdb_strings.find_replace_paused_before_finalize)):e=wpmdb_strings.paused,i.current_migration.setState(null,e,"paused"),t("body").on("click",".pause-resume",function(e){me()}),t("body").on("click",".cancel",function(e){Y()}),t(".pause-resume").html(wpmdb_strings.resume)}else if(!0===$){var n;"savefile"===(a=i.functions.wpmdb_migration_type())?n=wpmdb_strings.removing_local_sql:"pull"===a?n="backup"===c?wpmdb_strings.removing_local_backup:wpmdb_strings.removing_local_temp_tables:"push"===a&&(n="backup"===c?wpmdb_strings.removing_remote_sql:wpmdb_strings.removing_remote_temp_tables),i.current_migration.setText(n);var o={action:"wpmdb_cancel_migration",migration_state_id:i.migration_state_id,nonce:wpmdb_data.nonces.cancel_migration};m=!0,t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:o,error:function(e,t,n){i.current_migration.setState(wpmdb_strings.migration_cancellation_failed,wpmdb_strings.manually_remove_temp_files+"<br /><br />"+wpmdb_strings.status+": "+e.status+" "+e.statusText+"<br /><br />"+wpmdb_strings.response+":<br />"+e.responseText,"error"),console.log(e),console.log(t),console.log(n),m=!1,i.common.migration_error=!0,i.functions.migration_complete_events()},success:function(e){if(m=!1,e=t.trim(e),"push"===a&&"1"!==e||"push"!==a&&""!==e)return void 0!==e&&void 0!==e.wpmdb_error&&1===e.wpmdb_error&&(e=e.wpmdb_error),i.current_migration.setState(wpmdb_strings.migration_cancellation_failed,e,"error"),i.common.migration_error=!0,void i.functions.migration_complete_events();l=wpmdb_strings.migration_cancelled,"find_replace"===a&&(l=wpmdb_strings.find_replace_cancelled),i.functions.migration_complete_events(),i.current_migration.setStatus("cancelled")}})}else i.common.next_step_in_migration.fn.apply(null,i.common.next_step_in_migration.args)},i.functions.maybe_show_prefix_notice=function(e){var i=t(".prefix-notice");i.hide(),e!==wpmdb_data.this_prefix&&(t(".remote-prefix").html(e),!0,i.show())},i.functions.maybe_show_mst_warning=function(e){var n=i.functions.wpmdb_migration_type(),a=!1;return-1!==t.inArray(n,["push","pull"])&&void 0!==e.site_details?wpmdb_data.site_details.is_multisite!==e.site_details.is_multisite&&(void 0!==i.mst&&void 0!==e.mst_available&&"1"===e.mst_available||(a=!0)):"import"===n&&void 0!==e.multisite&&void 0!==e.subsite_export&&("false"===wpmdb_data.site_details.is_multisite&&"true"===e.multisite&&"true"!==e.subsite_export||"true"===wpmdb_data.site_details.is_multisite&&"false"===e.multisite)&&(a=!0),(a=t.wpmdb.apply_filters("wpmdb_show_mst_warning",a))&&t(".mst-required").show(),a},i.functions.maybe_show_select_table_notice=function(){if(t("#migrate-selected").is(":checked")&&null===t("#select-tables").val()){if("import"!==i.functions.wpmdb_migration_type())return alert(wpmdb_strings.please_select_one_table),!0;if(t("#import-find-replace").is(":checked")&&t("#select-tables").is(":visible"))return alert(wpmdb_strings.please_select_one_table_import),!0}return!("savefile"===i.functions.wpmdb_migration_type()||!t("#backup-manual-select").is(":checked")||null!==t("#select-backup").val())&&(alert(wpmdb_strings.please_select_one_table_backup),!0)},i.functions.remove_protocol=function(e){return e.replace(/^https?:/i,"")},i.functions.create_table_select=function(e,i,n){var a=document.createElement("select");return t(a).attr({multiple:"multiple",name:"select_tables[]",id:"select-tables",class:"multiselect"}),0<e.length&&t.each(e,function(e,o){if(!t.wpmdb.apply_filters("wpmdb_exclude_table",!1,o)){var s=" ";void 0!==n&&null!==n&&0<n.length&&-1!==t.inArray(o,n)&&(s=' selected="selected" ');var r="";0!==i.length&&(r=" ("+i[o]+")"),t(a).append("<option"+s+'value="'+o+'">'+o+r+"</option>")}}),a},i.functions.get_tables_to_migrate=function(e,n){var a=[],o=i.functions.wpmdb_migration_type();return"migrate_select"===t("input[name=table_migrate_option]:checked").val()?a=t("#select-tables").val():"pull"!==o&&void 0!==wpmdb_data.this_prefixed_tables?a=wpmdb_data.this_prefixed_tables:"pull"===o&&void 0!==i.common.connection_data&&void 0!==i.common.connection_data.prefixed_tables&&(a=i.common.connection_data.prefixed_tables),a},i.functions.update_migrate_button_text=function(){var e=i.functions.wpmdb_migration_type(),n=t("#save-migration-profile").is(":checked")?"_save":"",a="migrate_button_"+("savefile"===e?"export":e)+n;t(".migrate-db .button-primary").val(wpmdb_strings[a])},i.functions.connection_box_changed=function(){var e=t(".pull-push-connection-info");if(-1!==t.inArray(i.functions.wpmdb_migration_type(),["push","pull"])&&(!m&&!t(e).hasClass("temp-disabled")||!1!==i.force_reconnect)){i.force_reconnect=!1;var n,a=t(".pull-push-connection-info").val(),o=t.trim(a).split("\n"),s=!1,r="";if(""===o&&(s=!0,r=wpmdb_strings.connection_info_missing),1===o.length&&!s){var c=t.trim(a).split(" ");2===c.length&&(o=c)}2===o.length||s||(s=!0,r=wpmdb_strings.connection_info_incorrect),s||(n=o[0],/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n))||(s=!0,r=wpmdb_strings.connection_info_url_invalid);var l=0;if(void 0!==o[1]&&(l=o[1].length),s||32===l||40===l||(s=!0,r=wpmdb_strings.connection_info_key_invalid),s||o[0]!==wpmdb_data.connection_info[0]||(s=!0,r=wpmdb_strings.connection_info_local_url),s||o[1]!==wpmdb_data.connection_info[1]||(s=!0,r=wpmdb_strings.connection_info_local_key),s)return t(".connection-status").html(r),void t(".connection-status").addClass("notification-message error-notice migration-error");var d=o[0]+"\n"+o[1];1===t.trim(a).split("\n").length&&t(".pull-push-connection-info").val(d),!1===wpmdb_data.openssl_available&&(o[0]=o[0].replace("https://","http://"),d=o[0]+"\n"+o[1],t(".pull-push-connection-info").val(d)),!1,m=!0,le(),t(".basic-access-auth-wrapper").is(":visible")&&(o[0]=o[0].replace(/\/\/(.*)@/,"//"),o[0]=o[0].replace("//","//"+encodeURIComponent(t.trim(t(".auth-username").val()))+":"+encodeURIComponent(t.trim(t(".auth-password").val()))+"@"),d=o[0]+"\n"+o[1],t(".pull-push-connection-info").val(d),t(".basic-access-auth-wrapper").hide()),t(".step-two").hide(),t(".ssl-notice").hide(),t(".prefix-notice").hide(),t(".connection-status").show(),t(".connection-status").html(wpmdb_strings.establishing_remote_connection),t(".connection-status").removeClass("notification-message error-notice migration-error"),t(".connection-status").append(M);var u=i.functions.wpmdb_migration_type();return b=!1,t.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"wpmdb_verify_connection_to_remote_site",url:o[0],key:o[1],intent:u,nonce:wpmdb_data.nonces.verify_connection_to_remote_site},error:function(e,i,n){t(".connection-status").html(K(e.responseText,"(#100)",e)),t(".connection-status").addClass("notification-message error-notice migration-error"),t(".ajax-spinner").remove(),m=!1,pe()},success:function(e){if(t(".ajax-spinner").remove(),m=!1,pe(),void 0!==e.wpmdb_error&&1===e.wpmdb_error)return t(".connection-status").html(e.body),t(".connection-status").addClass("notification-message error-notice migration-error"),e.body.indexOf("401 Unauthorized")>-1&&t(".basic-access-auth-wrapper").show(),void(t(".pull-push-connection-info").hasClass("temp-disabled")||t(".connect-button").is(":visible")||(t(".pull-push-connection-info").removeAttr("readonly"),t(".connect-button").show()));if(!0!==i.functions.maybe_show_mst_warning(e)){W(o[0],o[1],e.scheme);var n=re(e.url);t(".create-new-profile").val(n),t(".pull-push-connection-info").addClass("temp-disabled"),t(".pull-push-connection-info").attr("readonly","readonly"),t(".connect-button").hide(),t(".connection-status").hide(),t(".step-two").show(),i.functions.maybe_show_prefix_notice(e.prefix),p=!0,ge(e),Z(),ee(),oe(),J(),Q=t(D).clone(),t(Q).attr({name:"select_backup[]",id:"select-backup"});var a=document.createElement("select");t(a).attr({multiple:"multiple",name:"select_post_types[]",id:"select-post-types",class:"multiselect"}),t.each(i.common.connection_data.post_types,function(e,i){t(a).append('<option value="'+i+'">'+i+"</option>")}),N=a,t("#new-path-missing-warning, #new-url-missing-warning").hide(),"pull"===i.functions.wpmdb_migration_type()?(t("#new-url").val(i.functions.remove_protocol(wpmdb_data.this_url)),t("#new-path").val(wpmdb_data.this_path),"true"===wpmdb_data.is_multisite&&(t("#new-domain").val(wpmdb_data.this_domain),t('.replace-row.pin .old-replace-col input[type="text"]').val(i.functions.remove_protocol(e.url))),t("#old-url").val(i.functions.remove_protocol(e.url)),t("#old-path").val(e.path),t.wpmdb.do_action("wpmdb_update_pull_table_select"),t("#select-post-types").remove(),t(".exclude-post-types-warning").after(N),i.functions.exclude_post_types_warning(),t(".table-prefix").html(e.prefix),t(".backup-table-prefix").html(wpmdb_data.site_details.prefix),t(".uploads-dir").html(wpmdb_data.this_uploads_dir)):(t("#new-url").val(i.functions.remove_protocol(e.url)),t("#new-path").val(e.path),"true"===wpmdb_data.is_multisite&&t('.replace-row.pin .old-replace-col input[type="text"]').val(i.functions.remove_protocol(wpmdb_data.this_url)),t.wpmdb.do_action("wpmdb_update_push_table_select"),t("#select-backup").remove(),t(".backup-tables-wrap").prepend(Q)),i.common.next_step_in_migration={fn:t.wpmdb.do_action,args:["verify_connection_to_remote_site",i.common.connection_data]},i.functions.execute_next_step()}else t(".connection-status").hide()}})}},t(document).ready(function(){i.migration_state_id="",t("#plugin-compatibility").change(function(e){var i="1",n=t(this).closest("td").next("td").find(".setting-status");t(this).is(":checked")||(i="0"),t(".plugin-compatibility-wrap").toggle(),n.find(".ajax-success-msg").remove(),n.append(M),t("#plugin-compatibility").attr("disabled","disabled"),t(".plugin-compatibility").addClass("disabled"),t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_plugin_compatibility",install:i,nonce:wpmdb_data.nonces.plugin_compatibility},error:function(e,i,n){alert(wpmdb_strings.plugin_compatibility_settings_problem+"\r\n\r\n"+wpmdb_strings.status+" "+e.status+" "+e.statusText+"\r\n\r\n"+wpmdb_strings.response+"\r\n"+e.responseText),t(".ajax-spinner").remove(),t("#plugin-compatibility").removeAttr("disabled"),t(".plugin-compatibility").removeClass("disabled")},success:function(e){""!==t.trim(e)?alert(e):(n.append('<span class="ajax-success-msg">'+wpmdb_strings.saved+"</span>"),t(".ajax-success-msg").fadeOut(2e3,function(){t(this).remove()})),t(".ajax-spinner").remove(),t("#plugin-compatibility").removeAttr("disabled"),t(".plugin-compatibility").removeClass("disabled")}})}),t("#plugin-compatibility").is(":checked")&&t(".plugin-compatibility-wrap").show(),(0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident"))&&t(".ie-warning").show(),0===wpmdb_data.valid_licence&&t("#savefile").prop("checked",!0);var e=t(".max-request-size"),n=t(".slider",e);n.slider({range:"min",value:parseInt(wpmdb_data.max_request/1024),min:512,max:parseInt(wpmdb_data.bottleneck/1024),step:256,create:function(t,i){var n=fe(wpmdb_data.max_request/1024);de(e,wpmdb_data.max_request/1024,n.unit,n.amount)},slide:function(t,i){var n=fe(i.value);de(e,i.value,n.unit,n.amount)},stop:function(i,a){t(".slider-success-msg").remove(),t(".amount",e).after('<img src="'+O+'" alt="" class="slider-spinner general-spinner" />'),n.slider("disable"),t.ajax({url:ajaxurl,type:"POST",cache:!1,data:{action:"wpmdb_update_max_request_size",max_request_size:parseInt(a.value),nonce:wpmdb_data.nonces.update_max_request_size},error:function(i,a,o){n.slider("enable"),t(".slider-spinner",e).remove(),alert(wpmdb_strings.max_request_size_problem);var s=fe(wpmdb_data.max_request/1024);de(e,wpmdb_data.max_request/1024,s.unit,s.amount),n.slider("enable")},success:function(){n.slider("enable"),t(".slider-label-wrapper",e).append('<span class="slider-success-msg">'+wpmdb_strings.saved+"</span>"),t(".slider-success-msg",e).fadeOut(2e3,function(){t(this).remove()}),t(".slider-spinner",e).remove()}})}});var g=t(".delay-between-requests"),w=t(".slider",g);w.slider({range:"min",value:parseInt(wpmdb_data.delay_between_requests/1e3),min:0,max:10,step:1,create:function(e,t){de(g,wpmdb_data.delay_between_requests/1e3,"s")},slide:function(e,t){de(g,t.value,"s")},stop:function(e,i){t(".slider-success-msg").remove(),t(".amount",g).after('<img src="'+O+'" alt="" class="slider-spinner general-spinner" />'),w.slider("disable"),t.ajax({url:ajaxurl,type:"POST",cache:!1,data:{action:"wpmdb_update_delay_between_requests",delay_between_requests:parseInt(1e3*i.value),nonce:wpmdb_data.nonces.update_delay_between_requests},error:function(e,i,n){w.slider("enable"),t(".slider-spinner",g).remove(),alert(wpmdb_strings.delay_between_requests_problem),de(g,wpmdb_data.delay_between_requests/1e3,"s"),w.slider("enable")},success:function(){wpmdb_data.delay_between_requests=parseInt(1e3*i.value),w.slider("enable"),t(".slider-label-wrapper",g).append('<span class="slider-success-msg">'+wpmdb_strings.saved+"</span>"),t(".slider-success-msg",g).fadeOut(2e3,function(){t(this).remove()}),t(".slider-spinner",g).remove()}})}}),t(".help-tab .video").each(function(){var e=t(this),i=t(".video-viewer");t("a",this).click(function(n){n.preventDefault(),i.attr("src","//www.youtube.com/embed/"+e.data("video-id")+"?autoplay=1"),i.show();var a=i.offset();t(window).scrollTop(a.top-50)})}),t(".backup-options").show(),t(".keep-active-plugins").show(),"savefile"===i.functions.wpmdb_migration_type()&&(t(".backup-options").hide(),t(".keep-active-plugins").hide()),d=i.functions.wpmdb_migration_type(),t(".content-tab").on("click",".check-my-licence-again",function(e){e.preventDefault(),h=!1,t(e.target).replaceWith("Checking... "+M),ne(null)}),t.wpmdb.add_action("wpmdb_refresh_table_selects",J),t.wpmdb.add_action("wpmdb_update_push_table_select",function(){t("#select-tables").remove(),t(".select-tables-wrap").prepend(A),t("#select-tables").change()}),t.wpmdb.add_action("wpmdb_update_pull_table_select",function(){t("#select-tables").remove(),t(".select-tables-wrap").prepend(D),t("#select-tables").change()}),t.wpmdb.add_action("wpmdb_disable_table_migration_options",function(){t("#migrate-selected").parents(".option-section").children(".header-expand-collapse").children(".expand-collapse-arrow").removeClass("collapsed"),t(".table-select-wrap").show(),t("#migrate-only-with-prefix").prop("checked",!1),t("#migrate-selected").prop("checked",!0),t(".table-migrate-options").hide(),t(".select-tables-wrap").show()}),t.wpmdb.add_action("wpmdb_enable_table_migration_options",function(){t(".table-migrate-options").show()}),t.wpmdb.add_action("wpmdb_select_all_tables",function(){t("#select-tables").children("option").prop("selected",!0),t("#select-tables").change()}),t.wpmdb.add_filter("wpmdb_base_old_url",function(e,t){return i.functions.remove_protocol(wpmdb_data.this_url)}),function(){var e=i.functions.wpmdb_migration_type(),n=t.trim(t(".pull-push-connection-info").val()).split("\n");if("undefined"!=typeof wpmdb_default_profile&&!0!==wpmdb_default_profile&&"savefile"!==e&&"find_replace"!==e&&"import"!==e&&!m&&wpmdb_data.is_pro){m=!0,le(),t(".connection-status").html(wpmdb_strings.establishing_remote_connection),t(".connection-status").removeClass("notification-message error-notice migration-error"),t(".connection-status").append(M);var a=i.functions.wpmdb_migration_type();t.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"wpmdb_verify_connection_to_remote_site",url:n[0],key:n[1],intent:a,nonce:wpmdb_data.nonces.verify_connection_to_remote_site,convert_post_type_selection:wpmdb_convert_post_type_selection,profile:wpmdb_data.profile},error:function(e,i,n){t(".connection-status").html(K(e.responseText,"(#102)",e)),t(".connection-status").addClass("notification-message error-notice migration-error"),t(".ajax-spinner").remove(),m=!1,pe()},success:function(e){if(t(".ajax-spinner").remove(),m=!1,pe(),void 0!==e.wpmdb_error&&1===e.wpmdb_error)return t(".connection-status").html(e.body),t(".connection-status").addClass("notification-message error-notice migration-error"),void(e.body.indexOf("401 Unauthorized")>-1&&t(".basic-access-auth-wrapper").show());if(!0!==i.functions.maybe_show_mst_warning(e)){W(n[0],n[1],e.scheme),i.functions.maybe_show_prefix_notice(e.prefix),t(".pull-push-connection-info").addClass("temp-disabled"),t(".pull-push-connection-info").attr("readonly","readonly"),t(".connect-button").hide(),t(".connection-status").hide(),t(".step-two").show(),p=!0,ge(e),Z(),oe();var a="";!1===wpmdb_default_profile&&"undefined"!=typeof wpmdb_loaded_tables&&(a=wpmdb_loaded_tables),D=i.functions.create_table_select(i.common.connection_data.tables,i.common.connection_data.table_sizes_hr,a);var o="";!1===wpmdb_default_profile&&"undefined"!=typeof wpmdb_loaded_post_types&&(void 0!==e.select_post_types?(t("#exclude-post-types").attr("checked","checked"),t(".post-type-select-wrap").show(),o=e.select_post_types):o=wpmdb_loaded_post_types);var s=document.createElement("select");t(s).attr({multiple:"multiple",name:"select_post_types[]",id:"select-post-types",class:"multiselect"}),t.each(i.common.connection_data.post_types,function(e,i){var n=t.inArray(i,o);n=-1!==n||!0===wpmdb_convert_exclude_revisions&&"revision"!==i?' selected="selected" ':" ",t(s).append("<option"+n+'value="'+i+'">'+i+"</option>")}),N=s;var r="";!1===wpmdb_default_profile&&"undefined"!=typeof wpmdb_loaded_tables_backup&&(r=wpmdb_loaded_tables_backup);var c=document.createElement("select");t(c).attr({multiple:"multiple",name:"select_backup[]",id:"select-backup",class:"multiselect"}),t.each(i.common.connection_data.tables,function(e,n){var a=t.inArray(n,r);a=-1!==a?' selected="selected" ':" ",t(c).append("<option"+a+'value="'+n+'">'+n+" ("+i.common.connection_data.table_sizes_hr[n]+")</option>")}),Q=c,"pull"===i.functions.wpmdb_migration_type()?(t.wpmdb.do_action("wpmdb_update_pull_table_select"),t("#select-post-types").remove(),t(".exclude-post-types-warning").after(N),t("#select-backup").remove(),t(".backup-tables-wrap").prepend(R),t(".table-prefix").html(e.prefix),t(".uploads-dir").html(wpmdb_data.this_uploads_dir)):(t("#select-backup").remove(),t(".backup-tables-wrap").prepend(Q)),t.wpmdb.do_action("verify_connection_to_remote_site",i.common.connection_data)}else t(".connection-status").hide()}})}}(),t("body").on("click",".js-action-link",function(e){e.preventDefault(),t(this).blur()}),t(".licence-input").keypress(function(e){13===e.which&&(e.preventDefault(),t(".register-licence").click())}),t("body").on("click",".register-licence",function(e){if(e.preventDefault(),!u){var i=t.trim(t(".licence-input").val()),n=t(".licence-status");n.removeClass("notification-message error-notice success-notice"),""!==i?(n.empty().removeClass("success"),u=!0,t(".button.register-licence").after('<img src="'+O+'" alt="" class="register-licence-ajax-spinner general-spinner" />'),t.ajax({url:ajaxurl,type:"POST",dataType:"JSON",cache:!1,data:{action:"wpmdb_activate_licence",licence_key:i,nonce:wpmdb_data.nonces.activate_licence,context:"licence"},error:function(e,i,a){u=!1,t(".register-licence-ajax-spinner").remove(),n.html(wpmdb_strings.register_license_problem)},success:function(e){if(t(".register-licence-ajax-spinner").remove(),void 0!==e.errors){var a="";for(var o in e.errors)a+=e.errors[o];n.html(a),void 0!==e.masked_licence&&(se(e,i),t(".migrate-tab .invalid-licence").hide())}else void 0!==e.wpmdb_error&&void 0!==e.body?n.html(e.body):(1===Number(e.is_first_activation)&&(wpmdb_strings.welcome_text=wpmdb_strings.welcome_text.replace("%1$s","https://deliciousbrains.com/wp-migrate-db-pro/doc/quick-start-guide/?utm_campaign=support%2Bdocs&utm_source=MDB%2BPaid&utm_medium=insideplugin"),wpmdb_strings.welcome_text=wpmdb_strings.welcome_text.replace("%2$s","https://deliciousbrains.com/wp-migrate-db-pro/videos/?utm_campaign=support%2Bdocs&utm_source=MDB%2BPaid&utm_medium=insideplugin"),n.after('<div id="welcome-wrap"><img id="welcome-img" src="'+wpmdb_data.this_plugin_url+'asset/dist/img/mdb-banner.svg" /><div class="welcome-text"><h3>'+wpmdb_strings.welcome_title+"</h3><p>"+wpmdb_strings.welcome_text+"</p></div></div>")),n.html(wpmdb_strings.license_registered).delay(5e3).fadeOut(1e3,function(){t(this).css({visibility:"hidden",display:"block"}).slideUp()}),n.addClass("success notification-message success-notice"),se(e,i),t(".invalid-licence").hide());u=!1}})):n.html('<div class="notification-message error-notice">'+wpmdb_strings.enter_license_key+"</div>")}}),t(".clear-log").click(function(){t(".ajax-spinner, .ajax-success-msg").remove(),t(this).after(M),t(".debug-log-textarea").val(""),t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_clear_log",nonce:wpmdb_data.nonces.clear_log},error:function(e,i,n){t(".ajax-spinner").remove(),alert(wpmdb_strings.clear_log_problem)},success:function(e){t(".ajax-spinner, .ajax-success-msg").remove(),L(),t(".clear-log").after('<span class="ajax-success-msg">'+wpmdb_strings.clear_error_log+"</span>"),t(".ajax-success-msg").fadeOut(2e3,function(){t(this).remove()})}})}),t(".multiselect-select-all").click(function(){var e=t(this).parents(".select-wrap").children(".multiselect");t("option",e).prop("selected",1),t(e).focus().trigger("change")}),t(".multiselect-deselect-all").click(function(){var e=t(this).parents(".select-wrap").children(".multiselect");t("option",e).removeAttr("selected"),t(e).focus().trigger("change")}),t(".multiselect-invert-selection").click(function(){var e=t(this).parents(".select-wrap").children(".multiselect");t("option",e).each(function(){t(this).attr("selected",!t(this).attr("selected"))}),t(e).focus().trigger("change")}),t(".option-group input[type=radio]").change(function(){var e=t(this).closest(".option-group");t("ul",e).hide();var i=t(this).closest("li");t("ul",i).show()}),t(".option-group").each(function(){t(".option-group input[type=radio]").each(function(){if(t(this).is(":checked")){var e=t(this).closest("li");t("ul",e).show()}})}),t(".header-expand-collapse").click(function(){var e=null;void 0!==t(this).data("next")&&(e=t(this).data("next")),t(".expand-collapse-arrow",this).hasClass("collapsed")?(t(".expand-collapse-arrow",this).removeClass("collapsed"),e?t(e).show():t(this).next().show()):(t(".expand-collapse-arrow",this).addClass("collapsed"),e?t(e).hide():t(this).next().hide())}),t(".checkbox-label input[type=checkbox]").change(function(){t(this).is(":checked")?t(this).parent().next().show():t(this).parent().next().hide()}),t(".select-post-types-wrap").on("change","#select-post-types",function(){i.functions.exclude_post_types_warning()}),t("#exclude-post-types").is(":checked")&&t("#select-post-types").val()&&t(".exclude-post-types-warning").css({display:"block",opacity:1}),t("#save-migration-profile").change(function(){i.functions.update_migrate_button_text(),t(this).is(":checked")?t(".save-settings-button").show():t(".save-settings-button").hide()}),t("#save-migration-profile").is(":checked")&&t(".save-settings-button").show(),t(".create-new-profile").focus(function(){t("#create_new").prop("checked",!0)}),t(".checkbox-label input[type=checkbox]").each(function(){t(this).is(":checked")&&t(this).parent().next().show()}),t(".migrate-db-button").click(function(e){if(t(this).blur(),e.preventDefault(),i.migration_state_id="",!1!==t.wpmdb.apply_filters("wpmdb_migration_profile_ready",!0)&&!0!==i.functions.maybe_show_select_table_notice()){var n=!1,p=!1;if(t("#new-url").length&&!t("#new-url").val()&&(t("#new-url-missing-warning").show(),t("#new-url").focus(),t("html,body").scrollTop(0),n=!0),t("#new-path").length&&!t("#new-path").val()&&(t("#new-path-missing-warning").show(),!1===n&&(t("#new-path").focus(),t("html,body").scrollTop(0)),p=!0),!0===n||!0===p){if("import"!==i.functions.wpmdb_migration_type())return;if(t("#import-find-replace").is(":checked"))return}t("#save-migration-profile").is(":checked")&&G(),r=t(t("#migrate-form")[0].elements).not(".auth-credentials").serialize(),a=i.functions.wpmdb_migration_type(),c="backup","savefile"===a&&(c="migrate"),!1===t("#create-backup").is(":checked")&&(c=-1!==t.inArray(a,["savefile","push","pull"])?"migrate":"import"===a?"upload":a),i.current_migration=i.migration_progress_controller.newMigration({localTableSizes:wpmdb_data.this_table_sizes,localTableRows:wpmdb_data.this_table_rows,remoteTableSizes:void 0!==i.common.connection_data?i.common.connection_data.table_sizes:null,remoteTableRows:void 0!==i.common.connection_data?i.common.connection_data.table_rows:null,migrationIntent:i.functions.wpmdb_migration_type()});var d=t("input[name=backup_option]:checked").val(),u=t("input[name=table_migrate_option]:checked").val(),_="",g="";"backup"===c&&("migrate_only_with_prefix"===u&&"backup_selected"===d&&"import"!==a&&(d="backup_only_with_prefix"),"push"===a?(g="remote","backup_only_with_prefix"===d?S=i.common.connection_data.prefixed_tables:"backup_selected"===d?(_=t("#select-tables").val(),_=t.wpmdb.apply_filters("wpmdb_backup_selected_tables",_),S=H(_,i.common.connection_data.tables)):"backup_manual_select"===d&&(S=t("#select-backup").val())):(g="local","backup_only_with_prefix"===d?S=wpmdb_data.this_prefixed_tables:"backup_selected"===d?(_=t("#select-tables").val(),_=t.wpmdb.apply_filters("wpmdb_backup_selected_tables",_),S=H(_,wpmdb_data.this_tables)):"backup_manual_select"===d&&(S=t("#select-backup").val())),i.current_migration.model.addStage("backup",S,g,{strings:{migrated:wpmdb_strings.backed_up}})),g="pull"===a?"remote":"local","find_replace"===a?i.current_migration.model.addStage("find_replace",i.functions.get_tables_to_migrate(null,null),g,{strings:{migrated:wpmdb_strings.searched,stage_title:wpmdb_strings.migrate_button_find_replace}}):-1!==t.inArray(a,["savefile","push","pull"])&&i.current_migration.model.addStage("migrate",i.functions.get_tables_to_migrate(null,null),g),t.wpmdb.do_action("wpmdb_add_migration_stages",{data_type:g,tables_to_migrate:i.functions.get_tables_to_migrate(null,null)});t("input[name=table_migrate_option]:checked").val();var f=t.trim(t(".pull-push-connection-info").val()).split("\n");o=f[0],s=f[1];var b=ce(o,a,"migrating");l=ce(o,a,"completed"),-1!==t.inArray(c,["find_replace","backup","migrate"])&&(S=i.current_migration.model.getStageItems(c,"name")),i.current_migration.model.setActiveStage(c),i.current_migration.setTitle(b),i.current_migration.startTimer(),y=!0,i.current_migration.setStatus("active");var h={action:"wpmdb_initiate_migration",intent:a,url:o,key:s,form_data:r,stage:c,nonce:wpmdb_data.nonces.initiate_migration};h.site_details={local:wpmdb_data.site_details},-1!==t.inArray(a,["push","pull"])&&(h.temp_prefix=i.common.connection_data.temp_prefix,h.site_details.remote=i.common.connection_data.site_details),h.site_details=JSON.stringify(h.site_details),h=t.wpmdb.apply_filters("wpmdb_initiate_migration_request_data",h,h),m=!0,t.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:h,error:function(e,t,n){i.current_migration.setState(wpmdb_strings.migration_failed,K(e.responseText,"(#112)",e),"error"),console.log(e),console.log(t),console.log(n),m=!1,i.common.migration_error=!0,i.functions.migration_complete_events()},success:function(e){if(m=!1,void 0!==e&&void 0!==e.wpmdb_error&&1===e.wpmdb_error)return i.common.migration_error=!0,i.functions.migration_complete_events(),void i.current_migration.setState(wpmdb_strings.migration_failed,e.body,"error");i.migration_state_id=e.migration_state_id;I=0,("savefile"!==a&&void 0!==i.common.connection_data&&void 0!==i.common.connection_data.delay_between_requests||"import"===a)&&(I="import"===a?wpmdb_data.delay_between_requests:Math.max(parseInt(wpmdb_data.delay_between_requests),parseInt(i.common.connection_data.delay_between_requests))),-1!==t.inArray(a,["savefile","push","pull","find_replace"])&&(i.common.next_step_in_migration={fn:i.functions.migrate_table_recursive,args:["-1",""]},i.functions.execute_next_step()),t.wpmdb.do_action("wpmdb_migration_initiated",c)}})}}),i.functions.update_migrate_button_text(),t("body").on("click",".close-progress-content-button",function(e){ie(),i.current_migration.restoreTitleElem(),i.functions.maybe_reload_page()}),t("body").on("click","#overlay",function(e){!0===v&&e.target===this&&(ie(),i.current_migration.restoreTitleElem(),i.functions.maybe_reload_page())}),t(".save-settings-button").click(function(e){if(e.preventDefault(),""===t.trim(t(".create-new-profile").val())&&t("#create_new").is(":checked"))return alert(wpmdb_strings.enter_name_for_profile),void t(".create-new-profile").focus();G()}),Z(),t(".migrate-selection.option-group input[type=radio]").change(function(){Z(),i.migration_selection=i.functions.wpmdb_migration_type(),p&&ee(),i.functions.update_migrate_button_text()}),"pull"!==i.functions.wpmdb_migration_type()&&"push"!==i.functions.wpmdb_migration_type()||p||(t(".step-two").hide(),t(".connection-status").show()),t(".general-helper").click(function(e){e.preventDefault();var i=t(this),n=t(this).next();t(".helper-message").not(n).hide();var a=i.position();if(n.hasClass("bottom")){var o=1;!0===n.hasClass("compatibility-help")?o=6:t(this).is(":first-child")&&(o=3),n.css({left:a.left-n.width()/2-o+"px",top:a.top+i.height()+9+"px"})}else n.css({left:a.left+i.width()+9+"px",top:a.top+i.height()/2-18+"px"});n.toggle(),e.stopPropagation()}),t("body").click(function(){t(".helper-message").hide()}),t(".helper-message").click(function(e){e.stopPropagation()}),t("body").on("click",".show-errors-toggle",function(e){e.preventDefault(),t(this).next(".migration-php-errors").toggle()}),t(".nav-tab").click(function(){var e=t(this).attr("data-div-name");e=e.replace("-tab",""),window.location.hash=e,te(e,!1)}),t("body").on("click",'a[href^="#"]',function(e){var i=t(e.target).attr("href").substr(1);if(i){var n=t("."+i);1===n.length&&(n.trigger("click"),e.preventDefault())}}),t("body").on("click",".add-row",function(){var e=t(this).parents("tr");e.before(t(".original-repeatable-field").clone().removeClass("original-repeatable-field")),e.prev().find(".old-replace-col input").focus()}),t("body").on("click",".replace-remove-row",function(){t(this).parents("tr").remove(),2>=t(".replace-row").length&&t(".no-replaces-message").show();var e=t(this).prev().attr("id");"new-url"!==e&&"new-path"!==e||t("#"+e+"-missing-warning").hide()}),t("body").on("change","#new-url",function(){t("#new-url-missing-warning").hide()}).on("change","#new-path",function(){t("#new-path-missing-warning").hide()}),t("body").on("click",".arrow-col",function(){if(!t(this).hasClass("disabled")){var e=t(this).prev("td").find("input").val(),i=t(this).next("td").find("input");i.val(e),"new-url"===i.prop("id")?t("#new-url-missing-warning").hide():"new-path"===i.prop("id")&&t("#new-path-missing-warning").hide()}}),t(".add-replace").click(function(){t(".replace-fields").prepend(t(".original-repeatable-field").clone().removeClass("original-repeatable-field")),t(".no-replaces-message").hide()}),t("#find-and-replace-sort tbody").sortable({items:"> tr:not(.pin)",handle:"td:first",start:function(){t(".sort-handle").css("cursor","-webkit-grabbing"),t(".sort-handle").css("cursor","-moz-grabbing")},stop:function(){t(".sort-handle").css("cursor","-webkit-grab"),t(".sort-handle").css("cursor","-moz-grab")}});window.location.hash&&te(window.location.hash.substring(1),!1),""!==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}("install-plugin")&&(h=!0,te("addons",!0)),t(".notice-link").click(function(e){e.preventDefault(),i.functions.ajax_handle_dismissible_notice(wpmdb_data.nonces.process_notice_link,function(e){t(e).closest(".inline-message").hide()},t(this))}),t("#connection_info").on("copy",function(e){var i=t(this).val().split("\n");if(2===i.length)try{e.originalEvent.clipboardData.setData("text/plain",i.join(" ")),e.preventDefault()}catch(e){}}),t(".reset-api-key").click(function(){confirm(wpmdb_strings.reset_api_key)&&!_&&(_=!0,t(".reset-api-key").after('<img src="'+O+'" alt="" class="reset-api-key-ajax-spinner general-spinner" />'),t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_reset_api_key",nonce:wpmdb_data.nonces.reset_api_key},error:function(e,i,n){alert(wpmdb_strings.reset_api_key_problem),t(".reset-api-key-ajax-spinner").remove(),_=!1},success:function(e){t(".reset-api-key-ajax-spinner").remove(),_=!1,t(".connection-info").html(e),wpmdb_data.connection_info=t.trim(e).split("\n")}}))}),t(".copy-api-key").click(function(){var e=t(this),i=t("#connection_info"),n=i.val(),a=n.replace("\n"," ");i.val(a),i.select();try{document.execCommand("copy"),i.blur(),e.css("color","transparent");var o=t(".copy-api-key-confirmation").show();setTimeout(function(){o.fadeOut("fast"),setTimeout(function(){e.css("color","")},200)},1e3)}catch(e){alert("please press Ctrl/Cmd+C to copy")}i.val(n)}),t("input[name=table_migrate_option]").change(function(){t(".select-tables-wrap").hide(),"migrate_select"===t(this).val()&&t(".select-tables-wrap").show()}),t(".show-multiselect").each(function(){t(this).is(":checked")&&(t(this).parents(".option-section").children(".header-expand-collapse").children(".expand-collapse-arrow").removeClass("collapsed"),t(this).parents(".expandable-content").show(),t(this).parents(".expandable-content").children(".select-wrap").toggle())}),t("input[name=backup_option]").change(function(){t(".backup-tables-wrap").hide(),"backup_manual_select"===t(this).val()&&t(".backup-tables-wrap").show()}),t("#backup-manual-select").is(":checked")&&t(".backup-tables-wrap").show(),t(".plugin-compatibility-save").click(function(){if(!f){t(this).addClass("disabled");var e=t("#selected-plugins");t(e).attr("disabled","disabled"),t(".plugin-compatibility-success-msg").remove(),f=!0,t(this).after('<img src="'+O+'" alt="" class="plugin-compatibility-spinner general-spinner" />'),t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_whitelist_plugins",whitelist_plugins:t(e).val(),nonce:wpmdb_data.nonces.whitelist_plugins},error:function(i,n,a){alert(wpmdb_strings.blacklist_problem+"\r\n\r\n"+wpmdb_strings.status+" "+i.status+" "+i.statusText+"\r\n\r\n"+wpmdb_strings.response+"\r\n"+i.responseText),t(e).removeAttr("disabled"),t(".plugin-compatibility-save").removeClass("disabled"),f=!1,t(".plugin-compatibility-spinner").remove()},success:function(i){""!==t.trim(i)&&alert(i),t(e).removeAttr("disabled"),t(".plugin-compatibility-save").removeClass("disabled"),f=!1,t(".plugin-compatibility-spinner").remove(),t(".plugin-compatibility-save").after('<span class="plugin-compatibility-success-msg">'+wpmdb_strings.saved+"</span>"),t(".plugin-compatibility-success-msg").fadeOut(2e3)}})}}),t("body").on("click",".delete-profile",function(){var e=t(this).next().clone();if(t("input",e).remove(),e=t.trim(t(e).html()),confirm(wpmdb_strings.remove_profile.replace("{{profile}}",e))){var i=t(this).parent();if(i.find("input:checked").length){var n=i.siblings().last();if(n.find("input[type=radio]").prop("checked","checked"),n.find("input[type=text]").focus(),t("#migrate-form .crumbs .crumb:last").text("New Profile"),"function"==typeof window.history.pushState){var a=window.location.href.replace("#migrate","").replace(/&wpmdb-profile=-?\d+/,"")+"&wpmdb-profile=-1";window.history.pushState({updated_profile_id:-1},null,a)}}i.fadeOut(500),t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_delete_migration_profile",profile_id:t(this).attr("data-profile-id"),nonce:wpmdb_data.nonces.delete_migration_profile},error:function(e,t,i){alert(wpmdb_strings.remove_profile_problem)},success:function(e){"-1"===e&&alert(wpmdb_strings.remove_profile_not_found)}})}}),t(".main-list-delete-profile-link").click(function(){var e=t(this).prev().html();confirm(wpmdb_strings.remove_profile.replace("{{profile}}",e))&&(t(this).parent().fadeOut(500),t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_delete_migration_profile",profile_id:t(this).attr("data-profile-id"),nonce:wpmdb_data.nonces.delete_migration_profile},error:function(e,t,i){alert(wpmdb_strings.remove_profile_problem)}}))}),t("body").on("click",".temp-disabled",function(){confirm(wpmdb_strings.change_connection_info)&&(t(".ssl-notice").hide(),t(".different-plugin-version-notice").hide(),t(".migrate-db-button").show(),t(".temp-disabled").removeAttr("readonly"),t(".temp-disabled").removeClass("temp-disabled"),t(".connect-button").show(),t(".step-two").hide(),t(".connection-status").show().html(wpmdb_strings.enter_connection_info),p=!1)}),t(".settings-tab input[type=checkbox]").change(function(){if("plugin-compatibility"!==t(this).attr("id")){var e=t(this).is(":checked"),i=t(this).attr("id"),n=t(this).closest("td").next("td").find(".setting-status");t(".ajax-success-msg").remove(),n.after(M),t.ajax({url:ajaxurl,type:"POST",dataType:"text",cache:!1,data:{action:"wpmdb_save_setting",checked:e,setting:i,nonce:wpmdb_data.nonces.save_setting},error:function(e,i,n){alert(wpmdb_strings.save_settings_problem),t(".ajax-spinner").remove()},success:function(e){t(".ajax-spinner").remove(),n.append('<span class="ajax-success-msg">'+wpmdb_strings.saved+"</span>"),t(".ajax-success-msg").fadeOut(2e3,function(){t(this).remove()})}})}}),t(".migrate-form").submit(function(e){e.preventDefault()}),t(".connect-button").click(function(e){e.preventDefault(),t(this).blur(),i.functions.connection_box_changed()}),t(".pull-push-connection-info").bind("paste",function(e){setTimeout(function(){i.functions.connection_box_changed()},0)}),t("body").on("click",".try-again",function(){t(".pull-push-connection-info").removeClass("temp-disabled"),i.functions.connection_box_changed()}),t("body").on("click",".try-http",function(){var e=t.trim(t(".pull-push-connection-info").val()).split("\n"),n=e[0].replace("https","http")+"\n"+e[1];t(".pull-push-connection-info").val(n),i.functions.connection_box_changed()}),t(".create-new-profile").change(function(){b=!0}),t("body").on("click",".temporarily-disable-ssl",function(){var e="";window.location.hash&&(e=window.location.hash.substring(1)),t(this).attr("href",t(this).attr("href")+"&hash="+e)}),t("body").on("click",".pause-resume",function(e){me()}),t("body").on("click",".cancel",function(e){Y()}),t(".enter-licence").click(function(){t(".settings").click(),t(".licence-input").focus()}),t("body").on("click",".copy-licence-to-remote-site",function(){t(".connection-status").html(wpmdb_strings.copying_license),t(".connection-status").removeClass("notification-message error-notice migration-error"),t(".connection-status").append(M);var e=t.trim(t(".pull-push-connection-info").val()).split("\n");m=!0,le(),t.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"wpmdb_copy_licence_to_remote_site",url:e[0],key:e[1],nonce:wpmdb_data.nonces.copy_licence_to_remote_site},error:function(e,i,n){t(".connection-status").html(K(e.responseText,"(#143)",e)),t(".connection-status").addClass("notification-message error-notice migration-error"),t(".ajax-spinner").remove(),m=!1,pe()},success:function(e){if(t(".ajax-spinner").remove(),m=!1,pe(),void 0!==e.wpmdb_error&&1===e.wpmdb_error)return t(".connection-status").html(e.body),t(".connection-status").addClass("notification-message error-notice migration-error"),void(e.body.indexOf("401 Unauthorized")>-1&&t(".basic-access-auth-wrapper").show());i.functions.connection_box_changed()}})}),t("body").on("click",".reactivate-licence",function(e){m=!0,t(".invalid-licence").empty().html(wpmdb_strings.attempting_to_activate_licence),t(".invalid-licence").append(M),t.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"wpmdb_reactivate_licence",nonce:wpmdb_data.nonces.reactivate_licence},error:function(e,i,n){t(".invalid-licence").html(wpmdb_strings.activate_licence_problem),t(".invalid-licence").append("<br /><br />"+wpmdb_strings.status+": "+e.status+" "+e.statusText+"<br /><br />"+wpmdb_strings.response+"<br />"+e.responseText),t(".ajax-spinner").remove(),m=!1},success:function(e){if(t(".ajax-spinner").remove(),m=!1,void 0===e.wpmdb_error||1!==e.wpmdb_error){if(void 0!==e.wpmdb_dbrains_api_down&&1===e.wpmdb_dbrains_api_down)return t(".invalid-licence").html(wpmdb_strings.temporarily_activated_licence),void t(".invalid-licence").append(e.body);t(".invalid-licence").empty().html(wpmdb_strings.licence_reactivated),location.reload()}else t(".invalid-licence").html(e.body)}})}),t("input[name=table_migrate_option]").change(function(){oe(),t.wpmdb.do_action("wpmdb_tables_to_migrate_changed")}),t("body").on("change","#select-tables",function(){oe(),t.wpmdb.do_action("wpmdb_tables_to_migrate_changed")}),t.wpmdb.add_filter("wpmdb_get_table_prefix",ue),t.wpmdb.add_filter("wpmdb_get_tables_to_migrate",i.functions.get_tables_to_migrate),t.wpmdb.add_action("wpmdb_lock_replace_url",_e),t.wpmdb.add_action("wpmdb_pin_replace_url",U),t.wpmdb.add_action("move_connection_info_box",i.functions.exclude_post_types_warning),t.wpmdb.add_filter("wpmdb_before_migration_complete_hooks",function(e){return!0===!!t("input[name=pause_before_finalize]:checked").length&&"savefile"!==a&&(me(),q=!0),e}),t(".wpmdb-switch").on("click",function(e){t(this).hasClass("disabled")||function(e){var i=t("#"+e),n=i.find("input[type=checkbox]");i.toggleClass("on").find("span").toggleClass("checked");var a=i.find("span.on").hasClass("checked");n.attr("checked",a).trigger("change")}(t(this).attr("id"))})})}(jQuery,wpmdb)},{"MigrationProgress-controller":6}]},{},[1,2,3,4,5,12,13,14]);